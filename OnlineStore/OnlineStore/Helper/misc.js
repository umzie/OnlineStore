var global={ajHTML:"/getHTML.bms",AppC:"WEBIN",dumpPath:"/data/js/",fbAppId:"",urlBase:""};var jq=jQuery.noConflict();var XD=function(){var f,e,b=1,c,a=this;return{postMessage:function(g,i,h){if(!i){return;}h=h||parent;if(a.postMessage){h.postMessage(g,i.replace(/([^:]+:\/\/[^\/]+).*/,"$1"));}else{if(i){h.location=i.replace(/#.*$/,"")+"#"+(+new Date)+(b++)+"&"+g;}}},receiveMessage:function(h,g){if(a.postMessage){if(h){c=function(i){if((typeof g==="string"&&i.origin!==g)||(Object.prototype.toString(g)==="[object Function]"&&g(i.origin)===!1)){return !1;}if(h){h(i);}h=false;};}if(a.addEventListener){a[h?"addEventListener":"removeEventListener"]("message",c,!1);}else{a[h?"attachEvent":"detachEvent"]("onmessage",c);}}else{f&&clearInterval(f);f=null;if(h){f=setInterval(function(){var j=document.location.hash,i=/^#?\d+&/;if(j!==e&&i.test(j)){e=j;h({data:j.replace(i,"")});}},100);}}}};}();if(typeof JSON!=="object"){JSON={};}(function(){function f(n){return n<10?"0"+n:n;}if(typeof Date.prototype.toJSON!=="function"){Date.prototype.toJSON=function(key){return isFinite(this.valueOf())?this.getUTCFullYear()+"-"+f(this.getUTCMonth()+1)+"-"+f(this.getUTCDate())+"T"+f(this.getUTCHours())+":"+f(this.getUTCMinutes())+":"+f(this.getUTCSeconds())+"Z":null;};String.prototype.toJSON=Number.prototype.toJSON=Boolean.prototype.toJSON=function(key){return this.valueOf();};}var cx=/[\u0000\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,escapable=/[\\\"\x00-\x1f\x7f-\x9f\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,gap,indent,meta={"\b":"\\b","\t":"\\t","\n":"\\n","\f":"\\f","\r":"\\r",'"':'\\"',"\\":"\\\\"},rep;function quote(string){escapable.lastIndex=0;return escapable.test(string)?'"'+string.replace(escapable,function(a){var c=meta[a];return typeof c==="string"?c:"\\u"+("0000"+a.charCodeAt(0).toString(16)).slice(-4);})+'"':'"'+string+'"';}function str(key,holder){var i,k,v,length,mind=gap,partial,value=holder[key];if(value&&typeof value==="object"&&typeof value.toJSON==="function"){value=value.toJSON(key);}if(typeof rep==="function"){value=rep.call(holder,key,value);}switch(typeof value){case"string":return quote(value);case"number":return isFinite(value)?String(value):"null";case"boolean":case"null":return String(value);case"object":if(!value){return"null";}gap+=indent;partial=[];if(Object.prototype.toString.apply(value)==="[object Array]"){length=value.length;for(i=0;i<length;i+=1){partial[i]=str(i,value)||"null";}v=partial.length===0?"[]":gap?"[\n"+gap+partial.join(",\n"+gap)+"\n"+mind+"]":"["+partial.join(",")+"]";gap=mind;return v;}if(rep&&typeof rep==="object"){length=rep.length;for(i=0;i<length;i+=1){if(typeof rep[i]==="string"){k=rep[i];v=str(k,value);if(v){partial.push(quote(k)+(gap?": ":":")+v);}}}}else{for(k in value){if(Object.prototype.hasOwnProperty.call(value,k)){v=str(k,value);if(v){partial.push(quote(k)+(gap?": ":":")+v);}}}}v=partial.length===0?"{}":gap?"{\n"+gap+partial.join(",\n"+gap)+"\n"+mind+"}":"{"+partial.join(",")+"}";gap=mind;return v;}}if(typeof JSON.stringify!=="function"){JSON.stringify=function(value,replacer,space){var i;gap="";indent="";if(typeof space==="number"){for(i=0;i<space;i+=1){indent+=" ";}}else{if(typeof space==="string"){indent=space;}}rep=replacer;if(replacer&&typeof replacer!=="function"&&(typeof replacer!=="object"||typeof replacer.length!=="number")){throw new Error("JSON.stringify");}return str("",{"":value});};}if(typeof JSON.parse!=="function"){JSON.parse=function(text,reviver){var j;function walk(holder,key){var k,v,value=holder[key];if(value&&typeof value==="object"){for(k in value){if(Object.prototype.hasOwnProperty.call(value,k)){v=walk(value,k);if(v!==undefined){value[k]=v;}else{delete value[k];}}}}return reviver.call(holder,key,value);}text=String(text);cx.lastIndex=0;if(cx.test(text)){text=text.replace(cx,function(a){return"\\u"+("0000"+a.charCodeAt(0).toString(16)).slice(-4);});}if(/^[\],:{}\s]*$/.test(text.replace(/\\(?:["\\\/bfnrt]|u[0-9a-fA-F]{4})/g,"@").replace(/"[^"\\\n\r]*"|true|false|null|-?\d+(?:\.\d*)?(?:[eE][+\-]?\d+)?/g,"]").replace(/(?:^|:|,)(?:\s*\[)+/g,""))){j=eval("("+text+")");return typeof reviver==="function"?walk({"":j},""):j;}throw new SyntaxError("JSON.parse");};}}());function fnAjax(g){try{var f=(g.async!=undefined&&g.async!="")?g.async:true;var p=(g.beforeSend!=undefined&&g.beforeSend!="")?g.beforeSend:"";var a=(g.cache!=undefined&&g.cache!="")?g.cache:true;var q=(g.contentType!=undefined&&g.contentType!="")?g.contentType:"application/x-www-form-urlencoded; charset=UTF-8";var h=(g.data!=undefined&&g.data!="")?g.data:"";var o=(g.dataType!=undefined&&g.dataType!="")?g.dataType:"";var l=(g.error!=undefined&&g.error!="")?g.error:false;var j=(g.suppress!=undefined&&g.suppress!="")?g.suppress:false;var c={"Content-Type":"application/x-www-form-urlencoded","Cache-Control":"no-store",Connection:"close"};c=(g.headers!=undefined&&g.headers!="")?jq.extend(c,g.headers):c;var r=(g.success!=undefined&&g.success!="")?g.success:false;var n=(g.timeout!=undefined&&g.timeout!="")?g.timeout:1000*60*5;var k=(g.type!=undefined&&g.type!="")?g.type:"GET";var b=g.url;var s="data: "+h+", dataType:"+o+", error"+l+", blnSuppress"+j+", type: "+k+", url: "+b;jq.support.cors=true;if(jq("#glErrDiv").is(":visible")&&h.c!="CANCELTRANS"){jq("#glErrDiv").hide();}jq.ajax({async:f,beforesend:p,cache:a,contentType:q,data:h,dataType:o,error:function(e,u,t){if(e.status==0){return;}if(b.indexOf("/data/promos/")==-1){fnGlobalErr({eCode:e.status,eCmd:s,eRFn:"function: fnAjax"});return;}else{l(e,u,t);return;}},headers:c,success:function(e){if(r){r(e);}},timeout:n,type:k,url:b});}catch(i){fnErr({fnName:"fnAjax",fnParams:g,err:i});}}function fnDoTrans(z){try{var f=(z.AppC!=undefined&&z.AppC!="")?z.AppC:global.AppC;var u=(z.venCode!=undefined&&z.venCode!="")?z.venCode:"";var c=(z.transId!=undefined&&z.transId!="")?z.transId:0;var o=(z.cmd!=undefined&&z.cmd!="")?z.cmd:"";var s=(z.p1!=undefined&&z.p1!="")?z.p1:"";var r=(z.p2!=undefined&&z.p2!="")?z.p2:"";var q=(z.p3!=undefined&&z.p3!="")?z.p3:"";var p=(z.p4!=undefined&&z.p4!="")?z.p4:"";var n=(z.p5!=undefined&&z.p5!="")?z.p5:"";var l=(z.p6!=undefined&&z.p6!="")?z.p6:"";var k=(z.p7!=undefined&&z.p7!="")?z.p7:"";var j=(z.p8!=undefined&&z.p8!="")?z.p8:"";var i=(z.p9!=undefined&&z.p9!="")?z.p9:"";var v=(z.p10!=undefined&&z.p10!="")?z.p10:"";var h=(z.fnCC!=undefined)?z.fnCC:false;var b=(z.fnEC!=undefined)?z.fnEC:false;var t=(z.ccObj!=undefined)?z.ccObj:false;var x=(z.ecObj!=undefined)?z.ecObj:false;var g=(z.blnSupp!=undefined)?z.blnSupp:false;var a="strCommand: "+o+", strAppCode: "+f+", strVenueCode:"+u+", lngTransId:"+c+", strParam1: "+s+", strParam2: "+r+", strParam3: "+q+", strParam4:"+p+", strParam5:"+n+", strParam6:"+l+", strParam7:"+k+", strParam8:"+j+", strParam9: "+i+", strParam10: "+v+", blnSuppress: "+g;if(jq("#glErrDiv").is(":visible")&&o!="CANCELTRANS"){jq("#glErrDiv").hide();}fnAjax({data:{a:f,v:u,t:c,c:o,p1:s,p2:r,p3:q,p4:p,p5:n,p6:l,p7:k,p8:j,p9:i,p10:v},dataType:"xml",error:function(B,e,A){if(!g){fnBusy(false);fnGlobalErr({eMess:"Sorry, There is a problem with the internet connection. Please try after some time.",eCode:B.status,eCmd:a,eRFn:errFn});}},success:function(C){var B={};var A=jq(C).find("objExecuteResult").children().length;for(var e=0;e<A;e++){var D=jq(C).find("objExecuteResult").children().eq(e);B[D.get(0).nodeName]=D.text();}if(B.blnSuccess=="true"){if(h){if(t){h(B);}else{h(B.strData);}}}else{if(!g){fnBusy(false);fnGlobalErr({eMess:B.strException,eCode:B.intExceptionEx,eCmd:a,eRFn:"function: fnDoTrans"});}if(b){if(x){b(B);}else{b(B.strException);}}}},suppress:g,type:"POST",url:(location.protocol=="https:"||z.secure==true)?"/doSecureTrans.bms":"/doTrans.bms"});}catch(w){fnErr({fnName:"fnDoTrans",fnParams:z,err:w});}}function fnDoSecureTrans(H){try{var g=(H.AppC!=undefined&&H.AppC!="")?H.AppC:global.AppC;var D=(H.venCode!=undefined&&H.venCode!="")?H.venCode:"";var c=(H.transId!=undefined&&H.transId!="")?H.transId:0;var u=(H.cmd!=undefined&&H.cmd!="")?H.cmd:"";var B=(H.p1!=undefined&&H.p1!="")?H.p1:"";var z=(H.p2!=undefined&&H.p2!="")?H.p2:"";var x=(H.p3!=undefined&&H.p3!="")?H.p3:"";var v=(H.p4!=undefined&&H.p4!="")?H.p4:"";var t=(H.p5!=undefined&&H.p5!="")?H.p5:"";var s=(H.p6!=undefined&&H.p6!="")?H.p6:"";var r=(H.p7!=undefined&&H.p7!="")?H.p7:"";var q=(H.p8!=undefined&&H.p8!="")?H.p8:"";var o=(H.p9!=undefined&&H.p9!="")?H.p9:"";var E=(H.p10!=undefined&&H.p10!="")?H.p10:"";var f=(H.type!=undefined&&H.type!="")?H.type:"";var n=(H.fnCC!=undefined)?H.fnCC:false;var b=(H.fnEC!=undefined)?H.fnEC:false;var C=(H.ccObj!=undefined)?H.ccObj:false;var G=(H.ecObj!=undefined)?H.ecObj:false;var j=(H.blnSupp!=undefined)?H.blnSupp:false;var a="strCommand: "+u+", strAppCode: "+g+", strVenueCode:"+D+", lngTransId:"+c+", strParam1:"+B+", strParam2: "+z+", strParam3: "+x+", strParam4:"+v+", strParam5:"+t+", strParam6:"+s+", strParam7:"+r+", strParam8:"+q+", strParam9: "+o+", strParam10: "+E+", blnSuppress: "+j;var w="https://"+location.host;var A="a="+encodeURIComponent(g)+"&v="+encodeURIComponent(D)+"&t="+encodeURIComponent(c)+"&c="+encodeURIComponent(u)+"&p1="+encodeURIComponent(B)+"&p2="+encodeURIComponent(z)+"&p3="+encodeURIComponent(x)+"&p4="+encodeURIComponent(v)+"&p5="+encodeURIComponent(t)+"&p6="+encodeURIComponent(s)+"&p7="+encodeURIComponent(r)+"&p8="+encodeURIComponent(q)+"&p9="+encodeURIComponent(o)+"&p10="+encodeURIComponent(E);var h=w+"/doSecureTrans.bms";var i=fnBrowsVer();if(i<8){h=h+"?"+A;fnData=function(J){var p=jq.parseXML(J.response);var L=jq(p).find("strData").text();if(jq(p).find("blnSuccess").text()=="true"){if(n){if(C){n(L);}else{n(L);}}}else{if(!j){var K=jq(p).find("strException").text();var e=jq(p).find("intExceptionEx").text();fnBusy(false);fnGlobalErr({eMess:L.strException,eCode:L.intExceptionEx,eCmd:a,eRFn:"function: fnDoSecureTrans"});}if(b){if(G){b(L);}else{b(jq(p).find("strException").text());}}}};jq.getScript(h+"&type=jsonp&callback=fnData");}else{var I=jq("#xd_form");if(I.length==0){I=jq("<form style='display:none;' id='xd_form' action='"+h+"?type=iframe#"+encodeURIComponent(document.location.href)+"' method='POST' enctype='multipart/form-data' target='xd_frame'></form>");jq("body").append(I);}I.html("");var l="<input type='hidden' name='a' value='"+g+"' />";l+="<input type='hidden' name='v' value='"+D+"' />";l+="<input type='hidden' name='t' value='"+c+"' />";l+="<input type='hidden' name='c' value='"+u+"' />";l+="<input type='hidden' name='p1' value='"+B+"' />";l+="<input type='hidden' name='p2' value='"+z+"' />";l+="<input type='hidden' name='p3' value='"+x+"' />";l+="<input type='hidden' name='p4' value='"+v+"' />";l+="<input type='hidden' name='p5' value='"+t+"' />";l+="<input type='hidden' name='p6' value='"+s+"' />";l+="<input type='hidden' name='p7' value='"+r+"' />";l+="<input type='hidden' name='p8' value='"+q+"' />";l+="<input type='hidden' name='p9' value='"+o+"' />";l+="<input type='hidden' name='p10' value='"+E+"' />";I.html(l);var k=jq("#xd_frame");if(k.length==0){k=jq('<iframe id="xd_frame" name="xd_frame" style="display:none;"></iframe>');jq("body").append(k);}I.submit();XD.receiveMessage(function(L){var K=jq.parseXML(jq.parseJSON(L.data).response);var N={};var J=jq(K).find("objExecuteResult").children().length;for(var e=0;e<J;e++){var O=jq(K).find("objExecuteResult").children().eq(e);N[O.get(0).nodeName]=O.text();}if(N.blnSuccess=="true"){if(n){if(C){n(N);}else{n(N.strData);}}}else{if(!j){var M=N.strException;var p=N.intExceptionEx;fnBusy(false);fnGlobalErr({eMess:N.strException,eCode:N.intExceptionEx,eCmd:a,eRFn:"function: fnDoSecureTrans"});}if(b){if(G){b(N);}else{b(N.strException);}}}},w);}}catch(F){fnErr({fnName:"fnDoSecureTrans",fnParams:H,err:F});}}function fnWsData(w){try{var g=(w.AppC!=undefined&&w.AppC!="")?w.AppC:global.AppC;var p=(w.venCode!=undefined&&w.venCode!="")?w.venCode:"";var f=(w.transId!=undefined&&w.transId!="")?w.transId:0;var n=(w.cmd!=undefined&&w.cmd!="")?w.cmd:"";var c=(w.eventType!=undefined&&w.eventType!="")?w.eventType:"";var x=(w.evtCode!=undefined&&w.evtCode!="")?w.evtCode:"";var i=(w.srCode!=undefined&&w.srCode!="")?w.srCode:"";var t=(w.sessDet!=undefined&&w.sessDet!="")?w.sessDet:"";var o=(w.sessId!=undefined&&w.sessId!="")?w.sessId:"";var u=(w.email!=undefined&&w.email!="")?w.email:"";var q=(w.lsid!=undefined&&w.lsid!="")?w.lsid:"";var v=(w.compCode!=undefined&&w.compCode!="")?w.compCode:"";var k=(w.producer!=undefined&&w.producer!="")?w.producer:"";var j=(w.data!=undefined&&w.data!="")?w.data:"";var r=(w.retType!=undefined&&w.retType!="")?w.retType:"js";var l=(w.fnCC!=undefined&&w.fnCC)?w.fnCC:false;var b=(w.fnEC!=undefined&&w.fnEC)?w.fnEC:false;var h=(w.blnSupp!=undefined)?w.blnSupp:false;var a="strCommand: "+n+", strAppCode: "+g+", strVenueCode:"+p+", lngTransId"+f+", strEvent"+c+", strEventCodes: "+x+", strSRCode: "+i+", strSessDet:"+t+", lngSessId:"+o+", strEmail:"+u+", strLSID:"+q+", strCompCode:"+v+", strProducer: "+k+", strData: "+j+", strRetType: "+r;if(jq("#glErrDiv").is(":visible")){jq("#glErrDiv").hide();}fnAjax({data:{strApp:g,strVC:p,lngTrans:f,strCmd:n,strET:c,strEC:x,strSRC:i,strSD:t,strSID:o,strLE:u,strLSID:q,strComp:v,strProducer:k,strData:unescape(j),strCase:r},dataType:"xml",error:function(A,e,z){fnErr({fnName:"wsData",fnParams:w});},success:function(A){var e=escape(jq(A).find("strGetDataForJavaScriptResult").eq(0).text());if(e!=""){if(l){l(e);}}else{if(!h){if(b){b(e);}else{fnBusy(false);var z=A.split("-");var B="";fnGlobalErr({eMess:"Sorry, there seems to be a connectivity problem with the cinema. Please try after some time.",eCmd:a,eRFn:"function: fnWsData"});}}}},type:"post",url:"/wsData.bms"});}catch(s){fnErr({fnName:"fnWsData",fnParams:w,err:s});}}global.fbAppId="";var arrC=new Array();var imgUrl=(location.protocol=="https:")?"/img/pay/loader.gif":"http://cnt.in.bookmyshow.com/bmsin/common/loader.gif";var glFBSignIn="main";function SignIn(){}SignIn.fnAfterAuth=function(j){try{var b=b||[];b.push(["uid",fnGVal({key:"MEMBERID",data:j})]);b.push(["email",fnGVal({key:"MEMBEREMAIL",data:j})]);if(typeof(wzrk_push)!="undefined"){wzrk_push(b);}_kmq.push(["identify",fnGVal({key:"MEMBEREMAIL",data:j})]);_kmq.push(["alias",fnGVal({key:"MEMBEREMAIL",data:j}),fnGVal({key:"MEMBERID",data:j})]);new clsCookie().set({name:"kmqIdentity",value:fnGVal({key:"MEMBEREMAIL",data:j}),sess:false,expires:"Thu, 31 Dec 2099 23:59:59 GMT"});j=unescape(j);var f=fnGVal({key:"MEMBEREMAIL",data:j});var a=fnGVal({key:"EXPIRY",data:j});var g=new clsCookie();g.set({name:"le",value:f,sess:false});g.set({name:"ld",value:j,sess:false,expires:new Date(a).toGMTString()});g.set({name:"userCine",value:fnGVal({key:"FAV",data:j}),key:"fav"});g.set({name:"ld",value:fnGVal({key:"NAME",data:j}),key:"FIRSTNAME",sess:false,expires:new Date(a).toGMTString()});var c=g.get({name:"ld",key:"ISFCONNECTLOGIN"});if(c=="Y"){jq("#logout").hide();jq("#FBlogout").show();}else{jq("#logout").show();jq("#FBlogout").hide();}var i=g.get({name:"ld",key:"FIRSTNAME",defVal:""});if(jq.trim(i)==""){i="Guest";}jq("#uName").text("Hi, "+fnCapitalName(i));jq("#preSign").hide();jq("#postSign").show();SignIn.fnGet(j);SignIn.fnClose({callBack:true});}catch(h){fnErr({fnName:"SignIn.fnAfterAuth",err:h});}};SignIn.fnAuthUser=function(g){try{var a=(g!=undefined&&g.id!=undefined&&g.id!="")?g.id:jq("#iUserName").val();var f=(g!=undefined&&g.pwd!=undefined&&g.id!="")?g.pwd:jq("#iPwd").val();var b=(g!=undefined&&g.type!=undefined&&g.type!="")?g.type:"";fnDoSecureTrans({cmd:"SIGNIN",p1:a,p2:f,fnCC:SignIn.fnAfterAuth,fnEC:function(e){SignIn.fnLogOut(e,b);},blnSupp:true});}catch(c){fnErr({fnName:"SignIn.fnAuthUser",err:c});}};SignIn.fnChkProf=function(o){try{var n=new clsCookie();var f=n.get({name:"ld",defval:"",key:"ISFCONNECTLOGIN"});var l=6;o=(o!=undefined&&o!="")?o:n.get({name:"ld",defVal:""});var c=fnGVal({key:"ISPROFILECOMPLETE",data:o});var b=fnGVal({key:"PROFILEVALUE",data:o});if(c!="Y"){arrC=SignIn.fnChkRules({rules:l,value:b});var a=0;for(var g=0;g<arrC.length;g++){if(arrC[g]){a++;}}jq("#errDivFCP").html("").hide();var k=parseInt((a/l)*100,10);jq("#profCom").show();jq("#spnProfCom").css("width",k+"%");jq("#spnProfPer").html(k+"%");if(jq("#dProfCom").length==0){objDiv=jq("<div />").attr("id","dProfCom");objDiv.css({display:"none",left:"0px",position:"absolute",top:"0px",width:"400px",zIndex:"2147483647"});var h='<div class="mainr callor">';h+='<div class="mainr callwhite">';h+='<a href="javascript:;" onclick="SignIn.fnCloseProf();"><div class="cross fright"></div></a>';h+='<div class="spacemain">';h+='<div class="head"><h3>Complete Your Profile</h3></div>';h+='<div class="signnotes fleft" id="dMsgSI"></div>';h+='<div class="signin fleft" id="dFirst">';h+='<div class="ic-user msg"></div>';h+='<input type="text" id="iFirst" placeholder="First Name"/>';h+="</div>";h+='<div class="signin fleft" id="dLast">';h+='<div class="ic-user msg"></div>';h+='<input type="text" id="iLast" placeholder="Last Name"/>';h+="</div>";h+='<div class="signin fleft" id="dMob">';h+='<div class="ic-sms msg"></div>';h+='<input type="text" id="iMob" placeholder="Mobile Number"/>';h+="</div>";h+='<div class="signin fleft" id="dAlWk">';h+='<h2 class="fleft">Subscribe to our newsletters? : </h2>';h+='<input type="radio" value="Yes" id="rAlWk1" name="rAlWk"  class="chepro"/><span class="fleft mr10 mt12">Yes</span>';h+='<input type="radio" value="No" id="rAlWk2" name="rAlWk"  class="chepro /><span class="fleft mr10 mt12">No</span>';h+="</div>";h+='<div class="signin fleft" id="dAlMob">';h+='<h2 class="fleft">Subscribe to mobile alerts? : </h2>';h+='<input type="radio" value="Yes" id="rAlMob1" name="rAlMob" class="chepro"/><span class="fleft mr10 mt12">Yes</span>';h+='<input type="radio" value="No" id="rAlMob2" name="rAlMob" class="chepro" /><span class="fleft mr10 mt12">No</span>';h+="</div>";h+='<div class="fright">';h+='<a href="javascript:;" onclick="SignIn.fnValProf();" class="button yellow fright">Update</a>';h+='<a href="javascript:;" onclick="SignIn.fnCloseProf();" class="button silverbtn mr5 fleft">Remind Me Later</a>';h+="</div>";h+='<div id="errDivFCP" class="error caerr" style="display:none;"></div>';h+="</div>";h+="</div>";h+="</div>";objDiv.html(h);jq("body").append(objDiv);if(jq.browser.msie){jq("#iFirst").setAltText();jq("#iLast").setAltText();jq("#iMob").setAltText();}}jq("#myBMS").hide();if(arrC[0]){jq("#dFirst").hide();}if(arrC[1]){jq("#dLast").hide();}if(arrC[2]){jq("#dMob").hide();}if(arrC[3]){jq("#dAlWk").hide();}if(arrC[4]){jq("#dAlMob").hide();}}else{jq("#profCom").hide();fnBusy(false);}}catch(j){fnErr({fnName:"SignIn.fnChkProf",fnParams:o,err:j});}};SignIn.fnChkRules=function(l){try{var n=l.rules;var f=new Array();var h=parseInt(l.value);for(var c=0;c<n;c++){f[c]=false;}for(var c=n;c>=0;c--){var b=Math.pow(2,c);var a=h/b;if(a>=1&&a<2){f[c]=true;h-=b;}}return f;}catch(g){fnErr({fnName:"SignIn.fnChkRules",fnParams:l,err:g});}};SignIn.fnClose=function(f){try{if(f&&f.callBack==true){if(global.SignInCallBack!=undefined&&global.SignInCallBack.length>0){for(var b=0;b<global.SignInCallBack.length;b++){global.SignInCallBack[b].apply();}}}fnCover(false);fnGATracker({location:"SignInBox",action:"NoThanks"});jq("#dSignIn").fadeOut("fast");if(global.SignInCallBack!=undefined){global.SignInCallBack.splice(global.SignInCallBack.length-1,1);}if(global.SignOutCallBack!=undefined){global.SignOutCallBack.splice(global.SignOutCallBack.length-1,1);}}catch(c){fnErr({fnName:"SignIn.fnClose",fnParams:f,err:c});}};SignIn.fnCloseProf=function(){try{jq("#dProfCom").fadeOut("fast");fnCover(false);}catch(a){fnErr({fnName:"SignIn.fnCloseProf",err:a});}};SignIn.fnCloseRes=function(){try{jq("#dResend").fadeOut("fast");fnCover(false);}catch(a){fnErr({fnName:"SignIn.fnClose",err:a});}};SignIn.fnDeactivateAccnt=function(){try{jq("#DAWarninig").slideUp();fnBusy(true);var f=new clsCookie();var h=f.get({name:"ld"});var a=fnGVal({key:"MEMBEREMAIL",data:h});var b=fnGVal({key:"MEMBERID",data:h});var c=fnGVal({key:"LSID",data:h});fnDoSecureTrans({cmd:"DEACTIVATEMEMBER",p1:b,p2:a,p3:c,blnSupp:true,fnCC:function(){f.del({name:"ld"});if(global.SignOutCallBack!=undefined&&global.SignOutCallBack.length>0){for(var e=0;e<global.SignOutCallBack.length;e++){global.SignOutCallBack[e].apply();}}},fnEC:function(){f.del({name:"ld"});if(global.SignOutCallBack!=undefined&&global.SignOutCallBack.length>0){for(var e=0;e<global.SignOutCallBack.length;e++){global.SignOutCallBack[e].apply();}}}});}catch(g){fnErr({fnName:"SignIn.fnDeactivateAccnt",err:g});}};SignIn.fnGet=function(i){try{var f=new clsCookie();i=(i!=undefined&&i!="")?unescape(i):f.get({name:"ld"});var b=fnGVal({key:"MEMBEREMAIL",data:i});var c=fnGVal({key:"ISFCONNECTLOGIN",data:i});var h=f.get({name:"ld",key:"FIRSTNAME",defVal:""});var a=fnGVal({key:"EXPIRY",data:i});f.set({name:"le",value:b});f.set({name:"ld",value:i,sess:false,expires:new Date(a).toGMTString()});f.set({name:"ld",value:fnGVal({key:"NAME",data:i}),key:"FIRSTNAME",sess:false,expires:new Date(a).toGMTString()});if(jq.trim(h)==""){h="Guest";}jq("#uName").text("Hi,	"+fnCapitalName(h));jq("#preSign").hide();jq("#postSign").show();SignIn.fnChkProf(i);fnBusy(false);}catch(g){fnErr({fnName:"SignIn.fnGet",fnParams:i,err:g});}};SignIn.fnLogOut=function(i,c){try{var g=new clsCookie();if(c!=undefined&&c=="logIn"){if(!jq("#dSignIn").is(":visible")){fnBusy(false);fnCover(true);fnDoFloat("#dSignIn").show();}jq("#ldng").hide();jq("#mSignInDiv").find("input").attr("disabled",false);jq("#iSignIn").show();}else{if(c!=undefined&&c=="Reg"){if(!jq("#dSignIn").is(":visible")){fnBusy(false);fnCover(true);fnDoFloat("#dSignIn").show();}jq("#ldng").hide();jq("#mSignInDiv").find("input").attr("disabled",false);jq("#dRegBtn").show();}}var j=g.get({name:"fbsr_"+global.fbAppId});if(j!=""){g.del({name:"fbsr_"+global.fbAppId});}fnBusy(false);if(i!=undefined&&i!=""){fnCover(true);fnSCusErrDisplay("errDivFSI",i,"e");fnSCusErrDisplay("errDivFRG",i,"e");fnSCusErrDisplay("errDivFCP",i,"e");}var f=g.get({name:"ld",key:"LSID",defVal:""});var b=g.get({name:"ld",key:"SEQUENCE",defVal:""});var a=g.get({name:"ld",key:"MEMBERID",defVal:""});fnDoSecureTrans({cmd:"SIGNOUT",p1:a,p2:b,p3:f,blnSupp:true,fnCC:function(){g.del({name:"ld"});g.set({name:"userCine",key:"RL",value:"",sess:false});if(global.SignOutCallBack!=undefined&&global.SignOutCallBack.length>0){for(var e=0;e<global.SignOutCallBack.length;e++){global.SignOutCallBack[e].apply();}}_kmq.push(["clearIdentity"]);new clsCookie().del({name:"kmqIdentity"});},fnEC:function(){g.del({name:"ld"});g.set({name:"userCine",key:"RL",value:"",sess:false});if(global.SignOutCallBack!=undefined&&global.SignOutCallBack.length>0){for(var e=0;e<global.SignOutCallBack.length;e++){global.SignOutCallBack[e].apply();}}_kmq.push(["clearIdentity"]);new clsCookie().del({name:"kmqIdentity"});}});jq("#preSign").show();jq("#postSign").hide();jq("#myBMS").hide();}catch(h){fnErr({fnName:"SignIn.fnLogOut",fnParams:arguments,err:h});}};SignIn.fnFPwd=function(){try{var a=jq("#iUserName");if(a.val()==""){fnSCusErrDisplay("errDivFSI","Please enter your email address above, then click 'Forgot Password'","e");a.focus();return;}if(!fnVal.email(a.val())){fnSCusErrDisplay("errDivFSI","Please enter a valid email address","e");a.focus();return;}jq("#iFPwd").hide();jq("#mSignInDiv").find("input").attr("disabled",true);jq("#Fldng").show();fnDoSecureTrans({cmd:"FORGOTMEMBERPASSWORD",p1:a.val(),p2:"MAIL",fnCC:SignIn.fnFPwdSuc,fnEC:SignIn.fnFPwdFail,blnSupp:true});}catch(b){fnErr({fnName:"SignIn.fPwd",fnParams:strData,err:b});}};SignIn.fnFPwdSuc=function(b){try{jq("#iUserName").val("");jq("#iPwd").val("");jq("#Fldng").hide();jq("#mSignInDiv").find("input").attr("disabled",false);jq("#iFPwd").show();fnSCusErrDisplay("errDivFSI","Password has been sent via Email.","");}catch(a){fnErr({fnName:"SignIn.fnFPwdSuc",fnParams:b,err:a});}};SignIn.fnFPwdFail=function(b){try{jq("#Fldng").hide();jq("#mSignInDiv").find("input").attr("disabled",false);jq("#iFPwd").show();jq("#iPwd").val("");fnSCusErrDisplay("errDivFSI",b,"e");}catch(a){fnErr({fnName:"SignIn.fnPwdFail",fnParams:b,err:a});}};SignIn.fnReg=function(){try{SignIn.fnSignIn(true);jq("#dRegPwd").show();jq("#dMsgSI").hide();jq("#dMsgJB").show();jq("#dRegBtn").show();jq("#dSignBtn").hide();jq("#dHdSI").hide();jq("#dHdJB").show();jq("#iUserName").val("");jq("#register").attr("checked",true);}catch(a){fnErr({fnName:"SignIn.fnReg",err:a});}};SignIn.fnRegUser=function(c){try{var a=(c!=undefined&&c.type!=undefined&&c.type!="")?c.type:"";fnDoSecureTrans({cmd:"SETPROFILE",p1:"SETPROFILE",p2:"0",p6:c.pwd,p10:"|EMAIL="+c.id+"|",fnCC:SignIn.fnAuthUser,fnEC:function(e){SignIn.fnLogOut(e,a);},blnSupp:true});}catch(b){fnErr({fnName:"SignIn.fnRegUser",err:b});}};SignIn.fnResendGen=function(){try{var g=new clsCookie();var c=g.get({name:"ld",defval:"",key:"MEMBEREMAIL"});var f=g.get({name:"ld",defval:"",key:"MOBILE"});jq("#errDivFRG").html("").hide();if(jq("#dResend").length==0){objDiv=jq("<div />").attr("id","dResend");objDiv.css({position:"absolute",zIndex:"2147483647",top:"0px",left:"0px",width:"400px"});var b='<div class="mainr callor">';b+='<div class="mainr callwhite">';b+='<a href="javascript:;" onclick="SignIn.fnCloseRes();"><div class="cross fright"></div></a>';b+='<div class="spacemain">';b+='<div class="head"><h3>Resend Confirmation</h3></div>';b+='<div class="signnotes fleft" id="dMsgSI">Lost your confirmation details? Nobody\'s perfect. No worries, just enter the info you gave when booking & we\'ll resend it in a jiffy!</div>';b+='<div class="signin fleft">';b+='<div class="ic-msg msg"></div>';b+='<input type="text" id="iEmail" value="'+c+'" placeholder="Email">';b+="</div>";b+='<div class="signin fleft" id="dSignPwd">';b+='<div class="ic-sms msg"></div>';b+='<input type="text" id="iMobNo" maxlength="15" value="'+f+'" placeholder="Mobile">';b+="</div>";b+='<div id="butResend" class="fright">';b+='<a href="javascript:;" onclick="SignIn.fnValRes();" class="button yellow fright">Send</a>';b+="</div>";b+='<div class="fright" style="display:none;" id="FRSldng">';b+='<img alt="Loading.." id="Loading" src="'+imgUrl+'">';b+="</div>";b+='<div id="errDivFRG" class="error caerr" style="display:none;"></div>';b+="</div>";b+="</div>";b+="</div>";objDiv.html(b);jq("body").append(objDiv);}jq("#iEmail").val("");jq("#iMobNo").val("");jq("#myBMS").hide();var g=new clsCookie(),a=g.get({name:"ld"});jq("#iEmail, #iMobNo").val("");if(a!=""){jq("#iEmail").val(fnGVal({key:"MEMBEREMAIL",data:a}));jq("#iMobNo").val(fnGVal({key:"MOBILE",data:a}));}fnCover(true);fnDoFloat("#dResend").fadeIn("fast");}catch(h){fnErr({fnName:"SignIn.fnResendGen",err:h});}};SignIn.fnResend=function(b){try{fnDoTrans({cmd:"RESENDCONFIRMATIONMAIL",p2:b.id,p3:b.mob,fnCC:SignIn.fnResendSuc,fnEC:SignIn.fnResendFail,blnSupp:true});}catch(a){fnErr({fnName:"SignIn.fnResend",fnParams:b,err:a});}};SignIn.fnResendSuc=function(b){try{jq("iEmail").val("");jq("iMobNo").val("");jq("#FRSldng").hide();jq("#butResend").show();jq("#iEmail, #iMobNo").removeAttr("disabled");fnSCusErrDisplay("errDivFRG","Confirmation Send Successfully!","");}catch(a){fnErr({fnName:"SignIn.fnResendSuc",fnParams:b,err:a});}};SignIn.fnResendFail=function(b){try{jq("#FRSldng").hide();jq("#butResend").show();jq("#iEmail, #iMobNo").removeAttr("disabled");fnSCusErrDisplay("errDivFRG",b,"e");}catch(a){fnErr({fnName:"SignIn.fnResendFail",fnParams:b,err:a});}};SignIn.fnSetProf=function(i){try{var f=new clsCookie();i=unescape(i);if(i!=""){var b=fnGVal({key:"ISPROFILECOMPLETE",data:i});var h=fnGVal({key:"PROFILEVALUE",data:i});var j=jq("#iFirst").val();var a=jq("#iLast").val();var c=jq("#iMob").val();f.set({name:"ld",value:b,key:"ISPROFILECOMPLETE"});f.set({name:"ld",value:h,key:"PROFILEVALUE"});f.set({name:"ld",value:j,key:"FIRSTNAME"});f.set({name:"ld",value:j,key:"NAME"});f.set({name:"ld",value:a,key:"LASTNAME"});f.set({name:"ld",value:c,key:"MOBILE"});jq("#uName").text("Hi, "+fnCapitalName(j));SignIn.fnChkProf("");}}catch(g){fnErr({fnName:"SignIn.fnSetProf",fnParams:i,err:g});}};SignIn.fnSignIn=function(c){try{jq("#errDivFSI").removeClass("error");jq("#errDivFSI").hide("slow");jq("#ldng,#Fldng").hide();jq("#dRegBtn").show();jq("#iSignIn,#iFPwd").show();jq("#mSignInDiv").find("input").attr("disabled",false);var i=jq("input[name='rdSign']:checked").attr("id");var b="";if(location.protocol=="https:"){b="/fb/login/?secured=1";}else{b="/fb/login/";}if(jq("#dSignIn").length==0){objDiv=jq("<div />").attr("id","dSignIn");objDiv.css({display:"none",left:"0px",position:"absolute",top:"0px",width:"400px",zIndex:"2147483647"});var a='<div class="mainr callor">';a+='<div class="mainr callwhite">';a+='<div class="spacemain" id="mSignInDiv">';a+='<div class="fleft" id="fButton">';a+='<h3 style="margin:10px 0px 5px 75px;">Use Facebook to Sign in</h3>';a+='<div id="fbLogin"  class="fbkbutton" onClick="window.open(\''+b+"','Login','height=500,width=700,scrollbars=yes');return false;\" >";a+='<div class="ic-fb scfbk" ></div>';a+='<div class="fbktxt">Log in with Facebook</div>';a+="</div>";a+='<div class="orlink fleft"></div>';a+='<div class="circle fleft">OR</div>';a+="</div>";a+='<div class="signtab">';a+='<div class="fleft wt100">';a+='<input type="radio" name="rdSign" class="radio" id="signIn" onclick="SignIn.fnSignIn(true);"><span class="fleft">Sign in</span>';a+="</div>";a+='<div class="fleft wt165">';a+='<input type="radio" name="rdSign" class="radio" id="register" onclick="SignIn.fnReg();"><span class="fleft">Create an Account</span>';a+="</div>";a+="</div>";a+='<div class="signin fleft">';a+='<div class="ic-msg msg"></div>';a+='<input type="text" id="iUserName" placeholder="Email">';a+="</div>";a+='<div id="dEmailSuggest" class="fright mb20 mb10" style="display: none;">';a+="</div>";a+='<div class="signin fleft" id="dSignPwd">';a+='<div class="ic-lock msg"></div>';a+='<input type="password" id="iPwd" placeholder="Password">';a+="</div>";a+='<div class="signin fleft" id="dRegPwd">';a+='<div class="ic-lock msg"></div>';a+='<input type="password" id="iPwdCon"  placeholder="Confirm Password">';a+="</div>";a+='<div style="clear:both;"></div>';a+='<div id="dSignBtn">';a+='<a href="javascript:;" style="font-size:12px; display: none;" class="fleft mt5"  id="iFPwd-temp" onclick="SignIn.fnFPwd();">Forgot Password?</a>';a+='<a href="javascript:;" style="font-size: 12px;" class="fleft mt5"  id="iRPwd" onclick="SignIn.fnRPwd();">Reset Password?</a>';a+='<a href="javascript:;" onclick="SignIn.fnValLogIn();" id="iSignIn" class="button yellow btnsign">Sign In</a>';a+='<a href="javascript:;" onclick="SignIn.fnClose({ callBack: false });" style="margin:5px 10px 0px 0px;" class="btnsign">Close</a>';a+="</div>";a+='<div class="fright" style="display:none;" id="ldng">';a+='<img alt="Loading.." id="Loading" src="'+imgUrl+'">';a+="</div>";a+='<div class="fleft" style="display:none;" id="Fldng">';a+='<img alt="Loading.." id="Loading" src="'+imgUrl+'">';a+="</div>";a+='<div class="fright" id="dRegBtn">';a+='<a href="javascript:;" onclick="SignIn.fnValReg();" id="iReg" class="button yellow btnsign">Register</a>';a+='<a href="javascript:;" onclick="SignIn.fnClose({ callBack: false });" style="margin:5px 10px 0px 0px;" class="btnsign">Close</a>';a+="</div>";a+='<div id="errDivFSI" class="error caerr" style="display:none;"></div>';a+='<div class="clear">&nbsp;</div>';a+="</div>";a+="</div>";a+="</div>";jq("body").append(objDiv);objDiv.html(a);if(typeof(jq().mailcheck)!="undefined"){jq("#iUserName").unbind("blur");jq("#iUserName").bind("blur",function(){jq(this).mailcheck({suggested:function(j,e){jq("#dEmailSuggest").html("Did you mean <i><b><a href=\"javascript:;\" onclick=\"jq('#iUserName').val('"+e.full+"');jq('#dEmailSuggest').hide();\">"+e.full+"</a></b></i>?").show();},empty:function(){jq("#dEmailSuggest").hide();}});});}}jq("#signIn").attr("checked",true);jq("#dHdSI").show();jq("#dHdJB").hide();jq("#dMsgSI").show();jq("#dMsgJB").hide();jq("#dRegPwd").hide();jq("#dSignBtn").show();jq("#dRegBtn").hide();if(i=="signIn"){jq("#iUserName, #iPwd").doEnter({callback:SignIn.fnValLogIn});}else{if(i=="register"){jq("#iUserName, #iPwd, #iPwdCon").doEnter({callback:SignIn.fnValReg});}}var g=new clsCookie();var f=g.get({name:"le",defVal:""});jq("#iUserName").val(f);jq("#iPwd").val("");jq("#iPwdCon").val("");if(c){fnCover(true);fnDoFloat("#dSignIn").fadeIn("fast");}}catch(h){fnErr({fnName:"SignIn.fnSignIn",err:h});}};SignIn.fnUpdUser=function(g){try{var c=new clsCookie();var a=c.get({name:"le",defVal:""});var b=c.get({name:"ld",key:"LSID",defVal:""});var h=c.get({name:"ld",key:"MEMBERID",defVal:""});fnDoSecureTrans({cmd:"SETPROFILE",p1:"SETPROFILE",p2:h,p3:b,p10:"|FIRSTNAME="+g.first+"|LASTNAME="+g.last+"|MOBILENO="+g.mob+"|EMAIL="+a+"|EMAILSUBSCRIPTION="+g.alWk+"|MOBILESUBSCRIPTION="+g.alMob+"|",fnCC:SignIn.fnSetProf,fnEC:SignIn.fnLogOut,blnSupp:true});}catch(f){fnErr({fnName:"SignIn.fnUpdUser",fnParams:g,err:f});}};SignIn.fnValLogIn=function(){try{var a=jq("#iUserName");var c=jq("#iPwd");if(jq.trim(a.val())==""||a.val()=="Email"){fnSCusErrDisplay("errDivFSI","Please enter an email address","e");return;}if(!fnVal.email(a.val())){fnSCusErrDisplay("errDivFSI","Please enter a valid email address","e");a.focus();return;}if(jq.trim(c.val())==""||c.val()=="Password"){fnSCusErrDisplay("errDivFSI","Please enter a password","e");c.focus();return;}fnGATracker({location:"SignInBox",action:"SignIn"});jq("#iSignIn").hide();jq("#mSignInDiv").find("input").attr("disabled",true);jq("#ldng").show();SignIn.fnAuthUser({id:a.val(),pwd:c.val(),type:"logIn"});}catch(b){fnErr({fnName:"SignIn.fnValLogIn",err:b});}};SignIn.fnValProf=function(){try{var g=jq("#iFirst");var i=jq("#iLast");var k=jq("#iMob");var l=jq("#rAlWk1");var j=jq("#rAlWk2");var b=jq("#rAlMob1");var a=jq("#rAlMob2");if(!arrC[0]){if(jq.trim(g.val())==""){fnSCusErrDisplay("errDivFCP","Please enter your first name","e");g.focus();return;}if(!fnVal.chkName(g.val())){fnSCusErrDisplay("errDivFCP","Please enter a valid first name","e");g.focus();return;}}if(!arrC[1]){if(jq.trim(i.val())==""){fnSCusErrDisplay("errDivFCP","Please enter your last name","e");i.focus();return;}if(!fnVal.chkName(i.val())){fnSCusErrDisplay("errDivFCP","Please enter a valid last name","e");i.focus();return;}}if(!arrC[2]){if(jq.trim(k.val())==""){fnSCusErrDisplay("errDivFCP","Please enter your mobile number","e");k.focus();return;}if(!fnVal.mob(k.val())){fnSCusErrDisplay("errDivFCP","Please enter a valid mobile number","e");k.focus();return;}}if(!arrC[3]){if(!l.is(":checked")&&!j.is(":checked")){fnSCusErrDisplay("errDivFCP","Please choose whether you wish to subscribe to our weekly alerts","e");l.focus();return;}}if(!arrC[4]){if(!b.is(":checked")&&!a.is(":checked")){fnSCusErrDisplay("errDivFCP","Please choose whether you wish to subscribe to our mobile alerts","e");b.focus();return;}}var f=(l.is(":checked"))?"Y":"N";var c=(b.is(":checked"))?"Y":"N";jq("#dProfCom").hide();fnBusy(true);SignIn.fnUpdUser({first:g.val(),last:i.val(),mob:k.val(),alWk:f,alMob:c});}catch(h){fnErr({fnName:"SignIn.fnValLogIn",err:h});}};SignIn.fnValReg=function(){try{var a=jq("#iUserName");var f=jq("#iPwd");var b=jq("#iPwdCon");if(jq.trim(a.val())==""||a.val()=="Email"){fnSCusErrDisplay("errDivFSI","Please enter an email address","e");a.focus();return;}if(!fnVal.email(a.val())){fnSCusErrDisplay("errDivFSI","Please enter a valid email address","e");a.focus();return;}if(jq.trim(f.val())==""||f.val()=="Password"){fnSCusErrDisplay("errDivFSI","Please enter a password","e");f.focus();return;}if(f.val().length<7){fnSCusErrDisplay("errDivFSI","Password should be at least 7 characters long","e");f.focus();return;}if(f.val().search(/[0-9]+/)==-1||(f.val().search(/[A-Z]+/)==-1&&f.val().search(/[a-z]+/)==-1)){fnSCusErrDisplay("errDivFSI","Password should contain both alphabets and numbers","e");f.focus();return;}if(jq.trim(b.val())==""||b.val()=="Confirm Password"){fnSCusErrDisplay("errDivFSI","Please confirm your password","e");b.focus();return;}if(b.val()!=f.val()){fnSCusErrDisplay("errDivFSI","Passwords entered do not match","e");f.val("");b.val("");f.focus();return;}jq("#dRegBtn").hide();jq("#mSignInDiv").find("input").attr("disabled",true);jq("#ldng").show();SignIn.fnRegUser({id:a.val(),pwd:f.val(),type:"Reg"});}catch(c){fnErr({fnName:"SignIn.fnValReg",err:c});}};SignIn.fnValRes=function(){try{var a=jq("#iEmail");var b=jq("#iMobNo");if(a.val()==""){fnSCusErrDisplay("errDivFRG","Please enter an email address","e");a.focus();return;}if(!fnVal.email(a.val())){fnSCusErrDisplay("errDivFRG","Please enter a valid email address","e");a.focus();return;}if(b.val()==""){fnSCusErrDisplay("errDivFRG","Please enter a mobile number","e");b.focus();return;}if(isNaN(b.val())||b.val()<10){fnSCusErrDisplay("errDivFRG","Please enter a valid mobile number","e");b.focus();return;}jq("#butResend").hide();jq("#FRSldng").show();jq("#iEmail, #iMobNo").attr("disabled","disabled");SignIn.fnResend({id:a.val(),mob:b.val()});}catch(c){fnErr({fnName:"SignIn.fnValRes",err:c});}};SignIn.fnRPwd=function(){try{var a=jq("#iUserName");if(a.val()==""){fnSCusErrDisplay("errDivFSI","Please enter your email address to reset your password","e");a.focus();return;}if(!fnVal.email(a.val())){fnSCusErrDisplay("errDivFSI","Please enter a valid email address","e");a.focus();return;}jq("#iRPwd").hide();jq("#mSignInDiv").find("input").attr("disabled",true);jq("#Fldng").show();fnDoSecureTrans({cmd:"SENDRESETPASSWORDURL",p1:a.val(),fnCC:SignIn.fnRPwdSuc,fnEC:SignIn.fnRPwdFail,blnSupp:true});}catch(b){fnErr({fnName:"SignIn.fPwd",fnParams:strData,err:b});}};SignIn.fnRPwdSuc=function(){try{jq("#iUserName").val("");jq("#iPwd").val("");jq("#Fldng").hide();jq("#mSignInDiv").find("input").attr("disabled",false);jq("#iRPwd").show();fnSCusErrDisplay("errDivFSI","Password reset link is emailed successfully.","");}catch(a){fnErr({fnName:"SignIn.fnFPwdSuc",err:a});}};SignIn.fnRPwdFail=function(a){try{jq("#Fldng").hide();jq("#mSignInDiv").find("input").attr("disabled",false);jq("#iRPwd").show();jq("#iPwd").val("");fnSCusErrDisplay("errDivFSI",a,"e");}catch(b){fnErr({fnName:"SignIn.fnPwdFail",fnParams:a,err:b});}};SignIn.fbError=function(){try{if(glFBSignIn=="main"){fnBusy(false);fnCover(true);jq("#dSignIn").show();fnSCusErrDisplay("errDivFSI","Facebook Authentication Failed! Please try again.","e");}else{if(glFBSignIn=="profile"){fnBusy(false);jq("#dFBProfSignIn").show();fnSCusErrDisplay("errDivFSI2","Facebook Authentication Failed! Please try again.","e");}else{fnBusy(false);fnCover(true);jq("#dFBSignIn").show();fnSCusErrDisplay("errDivFSI1","Facebook Authentication Failed! Please try again.","e");}}}catch(a){fnErr({fnName:"SignIn.fbError",err:a});}};SignIn.fbLink=function(){try{var j=new clsCookie();var c=j.get({name:"ld",key:"ISFCONNECTLOGIN"});var g=j.get({name:"ld",key:"MEMBEREMAIL"});var a=j.get({name:"ld"});if(c=="Y"){jq("#fConBtn").fadeOut("fast");jq("#myFConnect").hide();SignIn.fnChkProf(a);}else{var k=fnGVal({key:"LSID",data:a});var b=escape(j.get({name:"fbsr_"+global.fbAppId}));var i="|FBAT="+b+"|";var h="|MEMBEREMAIL="+g+"|LSID="+k+"|";jq("#dSignIn").hide();fnBusy(true);fnDoSecureTrans({cmd:"SAVEUSERSOCIALMEDIADETAILS",p1:"FB",p2:i,p3:h,fnCC:SignIn.fnAfterAuth,fnEC:function(e){SignIn.fnLogOut(e,"logIn");},blnSupp:true});}}catch(f){fnErr({fnName:"SignIn.fbLink",err:f});}};SignIn.fbLogin=function(){try{var f=new clsCookie();var a=f.get({name:"fbsr_"+global.fbAppId});var b=f.get({name:"ld",key:"ISFCONNECTLOGIN"});var c=f.get({name:"ld"});jq(document).on("click","#fbLogin",function(){glFBSignIn="main";jq("#dSignIn").hide();fnBusy(true);});jq(document).on("click","#FBlogout",function(){jq("#myBMS").hide();fnBusy(true);});if(a!=""){SignIn.fbLink();SignIn.fnGet("");}if(b=="Y"){jq("#logout").hide();jq("#FBlogout").show();}else{jq("#FBlogout").hide();jq("#logout").show();}if(c!=""){SignIn.fnGet("");}}catch(g){fnErr({fnName:"fbLogin",err:g});}};var rv=-1;var fbAppPriv="";var fbUserLike=false;function fnBrowsVer(){try{rv=-1;if(navigator.appName=="Microsoft Internet Explorer"){var a=navigator.userAgent;var b=new RegExp("MSIE ([0-9]{1,}[.0-9]{0,})");if(b.exec(a)!=null){rv=parseFloat(RegExp.$1);}}else{rv=999;}return rv;}catch(c){fnErr({fnName:"fnBrowsVer",err:c});}}jq(document).ready(function(){var a=fnBrowsVer();fnGetSocAppDet("FB");SignIn.fnSignIn(false);SignIn.fbLogin();});function fnGetSocAppDet(a){try{var c=new clsCookie();c.set({name:"userCine",sess:false,key:"PC"});var b=c.get({name:"ld"});switch(a.toUpperCase()){case"FB":if(b==""){c.del({name:"fbsr_"+global.fbAppId});}break;default:alert("Invalid Social App Details Requested");return;}fnAjax({cache:false,dataType:"html",error:function(h,e,g){},success:function(e){fnGenBtn(e,a);},url:"/getHTML.bms?cmd=APPDETAILS&app="+a});}catch(f){fnErr({fnName:"fnGetSocAppDet",fnParams:a,err:f});}}function fnGenBtn(c,a){try{if(a.toUpperCase()=="FB"){c=unescape(c);global.fbAppId=fnGVal({key:"FB_APPID",data:c});fbAppPriv=fnGVal({key:"FB_PRIVILEGES",data:c});}}catch(b){fnErr({fnName:"fnGenBtn",fnParams:a,err:b});}}function clsCookie(b){try{this.name=(b!=undefined&&b.name!=undefined)?b.name:"";this.value="";this.key="";this.sess=true;this.defVal="";this.domain=(b!=undefined&&b.domain!=undefined)?b.domain:"";this.path=(b!=undefined&&b.path!=undefined)?b.path:"/";this.expires=(b!=undefined&&b.expires!=undefined)?b.expires:"Thu, 31 Dec 2020 23:59:59 GMT";}catch(a){fnErr({fnName:"clsCookie Definition",fnParams:b,err:a});}}clsCookie.prototype.set=function(f){try{var a=(f.name!=undefined&&f.name!="")?f.name:this.name;var l=(f.value!=undefined&&f.value!="")?f.value:this.value;var r=(f.sess!=undefined)?f.sess:this.sess;var c=(f.expires!=undefined&&f.expires!="")?f.expires:this.expires;var s=(f.path!=undefined&&f.path!="")?f.path:this.path;if(f.key!=""&&f.key!=undefined){var p=this.get({name:a});var n=f.key;var h=p.split("|");var q="",o,k=new Array();for(var j=0;j<h.length;j++){if(h[j]!=""){o=h[j].split("=");if(o[0]!=n){k.push(new Array(o[0],o[1]));}}}var b="";b+="|"+n+"="+l;for(var i=0;i<k.length;i++){b+="|"+k[i][0]+"="+k[i][1];}b+="|";l=b;}l=encodeURIComponent(l);document.cookie=(escape(a)+"="+l+(!r?"; expires="+c:"")+"; path="+s);}catch(g){fnErr({fnName:"clsCookie.set",fnParams:f,err:g});}};clsCookie.prototype.get=function(f){try{var b=(f!=undefined&&f.name!=undefined&&f.name!="")?f.name:this.name;var k=(f!=undefined&&f.defVal!=undefined&&f.defVal!="")?f.defVal:this.defVal;var o=document.cookie;var n=b+"=";var h=-1;var g=-1;var a=k;if(o.length>0){h=o.indexOf(n);if(h>-1){h+=n.length;g=o.indexOf(";",h);g=(g==-1)?o.length:g;a=decodeURIComponent(o.substring(h,g));}}if(f!=undefined&&f.key!=""&&f.key!=undefined){a=fnGVal({key:f.key,data:a,defVal:k});}return a;}catch(l){fnErr({fnName:"clsCookie.get",fnParams:f,err:l});}};clsCookie.prototype.del=function(g){try{var b=new Date();var a=(g.name!=undefined&&g.name!="")?g.name:this.name;var f=(g.path!=undefined&&g.path!="")?g.path:this.path;document.cookie=escape(a)+"=; expires=Thu, 01 Jan 2012 00:00:01 GMT; path="+f;}catch(c){fnErr({fnName:"clsCookie.del",fnParams:g,err:c});}};var gLError={eCodes:{"2":5,"3":6,"15":8,"41":9,"-1":33,"-2":33,"-10":33,"-11":33,"-22":33,"-23":33,"-24":33,"-25":33,"-26":33,"-30":33,"-31":33,"-32":33,"-40":33,"-41":33,"-42":33,"-44":33,"-45":33,"-46":33,"-101":33,"-102":33,"-103":33,"-111":33,"-112":33,"-121":33,"-122":33,"-123":33,"-124":33,"-131":33,"-901":33,"-902":33,"-1014":42,"-1015":43,"-1016":44,"-1017":91,"-1040":81,"-1044":82,"-1055":12,"-1071":13,"-1091":23,"-1101":15,"-1102":14,"-1103":13,"-1111":13,"-1319":83,"-1320":84,"-2000":16,"-2001":17,"-2002":17,"-2005":19,"-2006":77,"-2101":55,"-2200":21,"-2340":59,"-2341":60,"-2342":61,"-2343":62,"-2344":75,"-2345":62,"-2351":56,"-2352":57,"-2354":58,"-2451":71,"-2452":72,"-2460":63,"-2500":92,"-2501":93,"-2502":94,"-2503":95,"-2504":96,"-2505":97,"-2506":98,"-2507":99,"-3000":85,"-3001":86,"-3002":87,"-3003":88,"-3004":89,"-3005":90,"-4001":4,"-4002":4,"-4011":40,"-4111":29,"-4112":29,"-4113":30,"-4114":100,"-4115":74,"-4116":100,"-4120":101,"-4310":103,"-4311":104,"-4312":105,"-4313":106,"-4314":107,"-4315":108,"-4316":109,"-4317":103,"-4318":104,"-4319":105,"-4320":106,"-4321":103,"-4322":104,"-4323":103,"-4324":104,"-4325":107,"-4326":110,"-4335":111,"-4336":112,"-4337":111,"-4338":112,"-4339":112,"-4340":111,"-4341":112,"-4342":113,"-4343":114,"-4344":112,"-4350":109,"-4353":115,"-4354":115,"-4355":115,"-7011":41,"-8061":34,"-8062":35,"-8071":34,"-8072":35,"-9001":45,"-9002":46,"-9003":47,"-9004":48,"-9005":49,"-9006":50,"-9007":51,"-9008":52,"-9009":53,"-9010":54,"-9011":70,"-9012":76,"-9014":80,"-9600":78,"-9601":78,"-9602":78,"-9603":78,"-9604":78,"-9610":78,"-9611":78,"-9612":78,"-9613":78,"-9614":78,"-9615":78,"-9620":78,"-9621":78,"-9622":79,"-9623":79,"-9624":79,"-9625":79,"-9626":79,"-9627":79,"-10031":102,"-10191":13,"-10193":116,"-10195":117,"-10207":118,"-10211":120,"-10212":121,"-10213":23,"-10216":122,"-10217":123,"-10218":124,"-10219":118,"-10223":118,"-10224":3,"-10225":126,"-10228":127,"-10229":3,"-10230":128,"-10240":118,"-10241":119,"-10242":118,"-10243":119,"-10246":125,"-10247":127,"-10248":118},eDesc:{"2":"The WinPin you have entered may be invalid. Please check the digits and try again.","3":"An unexpected error has occurred.\tPlease report this issue to us by clicking on the report button.","4":"Please try booking your tickets again.<br/> However, if the issue persists, you could try booking tickets for another available venue.","5":"Please try booking for another category, if present.","6":"Please try booking for another category, if present.","7":"An unexpected error has occurred.<br/>\tPlease report this issue to us by clicking on the report button.","8":"Online bookings for this show have been closed since the show starts in some time.<br/>You could try to book tickets for another show, if available.","9":"Sale of tickets may have been stopped by the theatre.<br/>Please try booking for another show, if available.","10":"SE","11":"SE","12":"SE","13":"SE","14":"SE","15":"SE","16":"SE","17":"Please try re-entering your 16-digit code and validate","18":"SE","19":"SE","20":"SE","21":"The amount in the Gift Voucher does not cover the total amount in your transaction.<br/>Please pay the balance amount by using one of our other payment options.","22":"Please use another WinPin code, if available.","23":"SE","24":"The card you are trying to use does not fall under the offer conditions. Please check the offer terms and conditions to know the cards that are applicable for this offer.","25":"There is a ticket quantity lock imposed on this offer. Please check the offer terms and conditions for further details.","26":"SE","27":"SE","28":"SE","29":'Please check the code you have enetered in the text-box.<br/> The number you have entered may been incorrect.<br/>If you haven\'t activated your gift card yet, you can do by clicking <a href="">here<\\/a>',"30":"The Gift Voucher you are trying to use does not have any balance in it.<br/> Please use another, if you have one, or choose one of our other payment options.","31":'The Gift Voucher you are trying to use may have expired.<br/> It is also possible that the gift voucher\'s validity starts at a later date.<br/> You could check the validity of your gift voucher <a href="">here</a>',"32":"SE","33":"SE","34":"The transaction you are trying to continue has timed-out or has been cancelled.<br/> Please initiate a new one to continue booking.<br/> If you feel you are seeing this message in error, feel free to report it to us by using the Report Button.","35":"The transaction you are trying to continue has timed-out or has been cancelled.<br/> Please initiate a new one to continue booking.<br/> If you feel you are seeing this message in error, feel free to report it to us by using the Report Button.","36":"SE","37":"SE","38":"SE","39":"SE","40":"NA","41":"NA","42":"NA","43":"NA","44":"NA","45":"SE","46":"The item you are trying to buy cannot be bought at this time.<br/>It may be out of stock please try for another item.","47":"SE","48":"SE","49":"SE","50":"SE","51":"The transaction you are trying to continue has timed-out or has been cancelled.<br/> Please initiate a new one to continue booking.<br/> If you feel you are seeing this message in error, feel free to report it to us by using the Report Button.","52":"SE","53":"SE","54":"SE","55":"NA","56":"SE","57":"SE","58":"SE","59":"SE","60":"NA","61":"SE","62":"SE","63":"The transaction you are trying to continue has timed-out or has been cancelled.<br/> Please initiate a new one to continue booking.<br/> If you feel you are seeing this message in error, feel free to report it to us by using the Report Button.","64":"SE","65":"SE","66":"SE","67":"SE","68":"SE","69":"SE","70":"NA","71":"SE","72":"SE","73":"NA","74":'The Gift Voucher you are trying to use may have expired.<br/> It is also possible that the gift voucher\'s validity starts at a later date.<br/> You could check the validity of your gift voucher <a href="">here</a>',"75":"SE","76":"SE","77":"SE","78":"SE","79":"SE","80":"SE","81":"SE","82":"If you need to book more tickets, you will have to initiate a new transaction for the same.<br/>Please be advised, that any further transactions will also be capped at the same quantity.","83":"Please initiate a new transaction to buy more tickets and parking permits.","84":"Please check the booking ID you have entered.<br/> If the ID is correct, then you may have exhausted your parking permits against your current booking. If you wish to buy further parking permits, please initiate a new transaction.","85":"Please choose a address from the list of addresses that you have provided.","86":"Please choose a address from the list of addresses that you have provided.","87":"SE","88":"SE","89":"Please try again in some time.<br/>If the issue persists, please report this issue to us by clicking on the report button.","90":"SE","91":"SE","92":"An unexpected error has occurred.<br/>\tPlease report this issue to us by clicking on the report button.","93":"SE","94":"SE","95":"SE","96":"SE","97":"SE","98":"SE","99":"SE","100":"You only need to use a Gift Voucher if your payable amount is greater than 0(zero).<br />It seems like the amount you have to pay is equal to 0(zero).","101":"Please use another Gift Voucher or continue paying by using one of our other payment options.","102":"SE","103":"SE","105":"SE","106":"SE","107":"SE","108":"SE","109":"SE","110":"SE","113":"SE","114":"SE","115":"SE","116":"SE","117":"SE","118":"SE","119":"SE","120":"SE","121":"SE","122":"SE","123":"SE","124":"SE","125":"SE","126":"SE","127":"SE","128":"SE","129":"SE"}};(function(a){a.fn.doEnter=function(b){a(this).unbind("keypress");return a(this).bind("keypress",function(f){var c=f.keyCode||f.which;if(c==13&&b&&b.callback){b.callback();}});};})(jQuery);jq(document).ready(function(){if(jq(".scrollup").length!=0){jq(window).scroll(function(){if(jq(this).scrollTop()>100){jq(".scrollup").fadeIn();}else{jq(".scrollup").fadeOut();}});jq(".scrollup").click(function(){jq("html, body").animate({scrollTop:0},600);return false;});}jq("#conleft a").filter(function(){return this.href==location.href;}).addClass("leftnavsel").removeClass("leftnav");});function fnCapitalName(f){var e=jq.trim(f).split(" ");var c="";for(var g=0;g<e.length;g++){if(e[g]!=""){c+=(e[g].substr(0,1).toUpperCase()+e[g].substr(1,e[g].length))+" ";}}return c;}function fnCMsgDis(b,f,a){try{jq("#"+b).clearQueue();if(a=="e"){jq("#"+b).removeClass("success").addClass("error").html('<div class="erricon ic-warn"></div><div class="errtxt" id="dPwdErr"> '+f+" </div>").animate({height:"toggle",opacity:"show"},{queue:false},"fast").delay(5000).animate({height:"toggle",opacity:"hide"},"fast",function(g){jq(this).hide();});}else{jq("#"+b).removeClass("error").addClass("success").html('<div class="sucicon ic-flag"></div><div class="errtxt" id="dPwdSucc"> '+f+" </div>").animate({height:"toggle",opacity:"show"},{queue:false},"fast").delay(5000).animate({height:"toggle",opacity:"hide"},"fast",function(g){jq(this).hide();});}}catch(c){fnErr({fnName:"fnCMsgDis",fnParams:b+", "+f+", "+a,err:c});}}function fnChkDate(a,c,b){try{blnLeap=false;d=parseInt(a,0);m=parseInt(c,0);y=parseInt(b,0);if(y%4==0){blnLeap=true;}if(y%100==0){if(y%400==0){blnLeap=true;}else{blnLeap=false;}}if(m==4||m==6||m==9||m==11){if(d>30){return false;}else{return true;}}else{if(m==2){if(blnLeap){if(d>29){return false;}else{return true;}}else{if(d>28){return false;}else{return true;}}}}}catch(f){fnErr({fnName:arguments.callee.name,fnParams:arguments,err:f});}}function fnCOpt(b,a,h){try{var f=b;var a=(a!=undefined)?a:"";var h=(h!=undefined)?h:"";f.empty();var g='<option value="'+h+'">'+a+"</option>";jq(g).appendTo(f);}catch(c){fnErr({fnName:"fnCOpt",fnParams:b+", "+a+", "+h,err:c});}}function fnDoSubMail(){try{var c=jq("#txtSubsMail");var b="";var f="";var g="";var a="";if(c.val()==""){alert("Please provide an email address or mobile number!");c.focus();return;}c.val(jq.trim(c.val()).replace(/[ ]+/gi,""));if(isNaN(c.val())){g="|EMAIL="+c.val()+"|";if(!fnVal.email(c.val())){alert("Please provide a valid email address!");c.focus();return;}a="EMAIL";}else{g="|MOBILENO="+c.val()+"|";if(!fnVal.mob(c.val())){alert("Please provide a valid mobile number!");c.focus();return;}a="MOBILE";}fnBusy(true);fnDoTrans({cmd:"SETPROFILE",p1:"NEWSLETTER",p2:"0",p10:g,fnCC:function(e){alert("Thank you for registering. Look forward to your weekly alerts!");var i=new clsCookie({name:"ld"});if(a=="EMAIL"){if(jq("#NLSUBY").length>0&&c.val()==i.get({key:"MEMBEREMAIL"})){i.set({key:"EMAILSUBSCRIPTION",value:"Y"});jq("#NLSUBY").attr("checked","checked");}}else{if(a=="MOBILE"){if(jq("#MOBSUBY").length>0&&c.val()==jq("#acntDtls #mobile").val()){i.set({key:"MOBILESUBSCRIPTION",value:"Y"});jq("#MOBSUBY").attr("checked","checked");}}}c.val("");fnBusy(false);},fnEC:function(i){fnBusy(false);}});}catch(h){fnErr({fnName:"fnDoSubMail",fnParams:arguments,err:h});}}function fnErr(k){var l=k.supp!=undefined?k.supp:true;var n=k.fnParams!=undefined&&k.fnParams!=""?k.fnParams:"";var j="";if(k.err!=undefined){j=k.err;}else{j=k.err.message;}if(l){fnCover(false);fnBusy(false);fnGlobalErr({eMess:"Whoa there! Something went wrong with our script. Please refresh the page and try again.<br/>If you feel you are seeing this message in error, feel free to report it to us by using the Report Button.",eRFn:k.fnName+" parameters: "+k.fnParams+"\n err: "+j});}else{if(typeof n[0]=="object"||typeof n=="object"){var o=typeof n[0]=="object"?n[0]:n;var i=[];for(var a in o){if(o.hasOwnProperty(a)){i.push(o[a]);}}n=i.join(", ");}fnCover(false);fnBusy(false);fnGlobalErr({eMess:j,eCmd:"parameters: "+k.fnParams+"\n err: "+j,eRFn:k.fnName});}}function fnFeat(c){try{var a=fnGRgn();if(a==""){a="ALL";}else{var f=["MCENT","MWEST","THAN","KALYAN","ULHA"];var b=["DELHI","GURG","NOIDA","GHAZ","FARI"];if(jq.inArray(a,f)!=-1){a="MUMBAI";}else{if(jq.inArray(a,b)!=-1){a="NCR";}}}fnAjax({data:"cmd=FEATURED&rgn="+a+"&mvcnt="+c,dataType:"json",success:function(k){var e="";var i='<h4 class="title14b">Featured<span class="line-effect"></span></h4>';for(var h=0;h<k.length;h++){e+='<div class="recm_box shadowBox" style="'+(h==0?"margin:0px;":"")+'">';e+='<img title="'+k[h]["Event_strTitle"]+'" alt="'+k[h]["Event_strTitle"]+'" width="143" height="235"  src="http://cnt.in.bookmyshow.com/Events/EventBanner/'+k[h]["RegionED_Id"]+'.jpg" onerror="this.src=\'http://cnt.in.bookmyshow.com/Events/Large/NoImage.jpg\'"/>';e+='<div class="btm_past">';e+="<h4>"+k[h]["Event_strTitle"]+"</h4>";e+="</div>";e+='<div class="feat_item_date bblrR5">';e+="<p>"+k[h]["Event_strEventDates"]+"</p>";e+="</div>";e+='<div class="feat_inrTxt">';e+="<p>"+k[h]["Event_strEventDetails"]+"</p>";e+='<a class="button yellow" href="'+((k[h]["RegionED_strRedirectUrl"]=="")?"javascript:;":k[h]["RegionED_strRedirectUrl"])+'"> '+((k[h]["ButtonText"]=="")?"Coming Soon":k[h]["ButtonText"])+"</a>";e+="</div>";e+="</div>";}if(e!=""){jq("#feaEvents").html(i+e).show();fnAnim();}else{jq("#feaEvents").hide();}},url:global.ajHTML});}catch(g){fnErr({fnName:"fnFeat",fnParams:c,err:g});}}function fnGATracker(i){try{var f=location.pathname.replace(/\//g,"");var b=(f=="")?"home":f;var h=(i.location!="")?"-"+i.location:"";var a=(i.action!="")?"-"+i.action:"";var c=b+h+a;if(typeof(ga)!=="undefined"){ga("send","pageview",c);}if(typeof(wzrk_pushSiteEvent)!="undefined"){wzrk_pushSiteEvent(c);}}catch(g){fnErr({fnName:"fnGoToIS",fnParams:arguments,err:g});}}function fnGlobalErr(j){try{var f="Whoa there! Something went wrong with our script. Please refresh the page and try again";var i=(j.eMess!=undefined&&j.eMess!="")?j.eMess:f;var c=(j.eCode!=undefined&&j.eCode!="")?j.eCode:"GEN";var h=(j.eCmd!=undefined&&j.eCmd!="")?"Command: "+j.eCmd:"";var b=(j.eRFn!=undefined&&j.eRFn!="")?"Function: "+j.eRFn:"";var a=(j.blnSucc!=undefined&&j.blnSucc!="")?j.blnSucc:false;((a)?jq(".errbtn").hide():jq(".errbtn").show());jq("#FEData,#SEData,#TEData").html("");fnCover(false);fnBusy(false);jq("#iRECmdInfo").html(b+" "+h);if(c=="404"||c=="200"||c=="500"||c=="-1062"||(gLError.eDesc[gLError.eCodes[c]]!=undefined&&gLError.eDesc[gLError.eCodes[c]].toUpperCase()=="NA")){jq("#glErrDiv").hide();return false;}if(c=="myFLogin"||c=="unFinTrans"||(gLError.eDesc[gLError.eCodes[c]]!=undefined&&gLError.eDesc[gLError.eCodes[c]].toUpperCase()=="SE")){if(c=="unFinTrans"){i='An unfinished transaction has been identified which may be running in another tab/window. Clicking <a class="button blackbtn" href="javascript:;" onclick=\'fnCanTr();jq("#glErrDiv").slideUp("fast");\'><b>OK</b></a> will cancel any ongoing transaction.';}if(c=="myFLogin"){i='Please re-login to view your saved payment details.click <a class="button blackbtn" href=\'javascript:;\' onclick=\'SignIn.fnSignIn(true);jq("#glErrDiv").slideUp("fast");\'>here</a> to Login';}jq("#FEData").html(i);jq("#errDiv2,#errDiv3").hide();jq("#glErrDiv").slideDown("slow");return true;}if(c=="GEN"){jq("#FEData").html(i);jq("#errDiv2").hide();if(i!=f){jq("#errDiv3").hide();}else{jq("#TEData").html(gLError.eDesc["3"]);jq("#errDiv3").show();}jq("#glErrDiv").slideDown("slow");return true;}if(i!=f&&c!="GEN"){jq("#FEData").html(i);jq("#errDiv2").hide();if((gLError.eDesc[gLError.eCodes[c]]!=undefined||gLError.eDesc[gLError.eCodes[c]]!="")&&(gLError.eDesc[gLError.eCodes[c]]!="SE"&&gLError.eDesc[gLError.eCodes[c]]!="NA")){jq("#TEData").html(gLError.eDesc[gLError.eCodes[c]]);jq("#errDiv3").show();}else{jq("#errDiv3").hide();}jq("#glErrDiv").slideDown("slow");return true;}if(gLError.eDesc[gLError.eCodes[c]]!=undefined&&gLError.eDesc[gLError.eCodes[c]]!="SE"&&gLError.eDesc[gLError.eCodes[c]]!="NA"){jq("#FEData").html(i);if(gLError.eDesc[gLError.eCodes[c]]!=undefined&&gLError.eDesc[gLError.eCodes[c]]!=""){jq("#SEData").html("Error Code: "+c);jq("#errDiv2").show();}else{jq("#errDiv2").hide();}if(j.eRFn=="fnErr"||jq.trim(gLError.eDesc[gLError.eCodes[c]])==""){jq("#errDiv2").hide();}if(gLError.eDesc[gLError.eCodes[c]]!=""||gLError.eDesc[gLError.eCodes[c]]!=undefined){jq("#TEData").html(gLError.eDesc[gLError.eCodes[c]]);jq("#errDiv3").show();}else{jq("#errDiv3").hide();}jq("#glErrDiv").slideDown("slow");return true;}else{jq("#FEData").html(f);jq("#SEData").html(gLError.eDesc["3"]);jq("#errDiv2").show();jq("#errDiv3").hide();jq("#glErrDiv").slideDown("slow");return true;}}catch(g){fnDispErr({fnName:"fnGlobalErr",fnParams:j,err:g});}}function fnDispErr(a){jq("#FEData,#SEData,#TEData").html("");jq("#FEData").html("Whoa there! Something went wrong with our script. Please refresh the page and try again");jq("#errDiv2,#errDiv3").hide();jq("#iRECmdInfo").html("Function: "+a.fnName+", Parameters: "+a.fnParams+", ErrMess: "+a.e.message);jq("#glErrDiv").slideDown("slow");return false;}function fnGoTo(b){try{setTimeout("window.location.href='"+b+"'",0);}catch(a){fnErr({fnName:arguments.callee.name,fnParams:arguments,err:a});}}function fnGoToIS(c){try{var a=jq(c);var g=a.find("option:selected").val();if(g!=""){var b=a.find("option:selected").html();fnGoTo("/regions/"+fnUrlName(b)+"/"+g);}}catch(f){fnErr({fnName:"fnGoToIS",fnParams:arguments,err:f});}}function fnGQS(j,h){try{var h=(h!=undefined)?h:"";var c=window.location.search.substring(1);var a=c.split("&");for(var b=0;b<a.length;b++){var g=a[b].split("=");if(g[0]==j){return g[1];}}return h;}catch(f){fnErr({fnName:"misc.js - fnGQS",fnParams:arguments,err:f});}}function fnGRgn(){try{var a=new clsCookie({name:"Rgn"});return a.get({key:"Code"});}catch(b){fnErr({fnName:"misc.js - fnGRgn",err:b});}}function fnRedirectToRegionPage(){try{if(typeof(blnIsRegionRouting)!=="undefined"&&blnIsRegionRouting==true){location.href="/"+fnUrlName(new clsCookie().get({name:"Rgn",key:"text"})).toLowerCase()+"/"+location.pathname.split("/").splice(2,location.pathname.split("/").length).join("/")+location.search+location.hash;}}catch(a){fnErr({fnName:"misc.js - fnRedirectToRegionPages",err:a});}}function fnGUTC(a){try{var b=new Date(a);return b;}catch(c){fnErr({fnName:"fnGUTC",fnParams:a,err:c});}}function fnGVal(g){try{var f=g.key;var o=g.data;var c=(g.splitA!=undefined&&g.splitA!="")?g.splitA:"|";var b=(g.splitB!=undefined&&g.splitB!="")?g.splitB:"=";var k=(g.defVal!=undefined&&g.defVal!="")?g.defVal:"";var j=o.split(c);var n="";for(var h=0;h<j.length;h++){var a=j[h].split(b);if(a[0].toUpperCase()==f.toUpperCase()){n=a[1];break;}}return(n!="")?n:k;}catch(l){fnErr({fnName:"misc.js - fnGVal",fnParams:arguments,err:l});}}function fnPopup(i){try{var h=i.url;var c=(i.modal!=undefined&&i.modal!="")?i.modal:false;var a=(i.height!=undefined&&i.height!="")?i.height:552;var b=(i.width!=undefined&&i.width!="")?i.width:800;var g="width="+b+"px, height="+a+"px, center=yes, status=no, toolbar=no, location=no, menubar=no, scrollbars=yes, resizable=no, position=absolute, left= 200px; top=135px;";return window.open(h,"_blank",g);}catch(f){fnErr({fnName:"misc.js - fnPopup",fnParams:i,err:f});}}function fnSCusErrDisplay(b,f,a){try{jq("#"+b).clearQueue();var g=jq("#"+b).parent().attr("id");jq("#"+g).bind("change",function(){jq("#"+b).hide();});if(a=="e"){jq("#"+b).removeClass("success").addClass("error").html('<div class="erricon ic-warn"></div><div class="errtxt" id="ErrMess"> '+f+" </div>").animate({height:"toggle",opacity:"show"},{queue:false},"slow").delay(5000).animate({height:"toggle",opacity:"hide"},"fast",function(h){jq(this).hide();});}else{jq("#"+b).removeClass("error").addClass("success").html('<div class="sucicon ic-flag"></div><div class="errtxt" id="ErrMess"> '+f+" </div>").animate({height:"toggle",opacity:"show"},{queue:false},"slow").delay(5000).animate({height:"toggle",opacity:"hide"},"fast",function(h){jq(this).hide();});}}catch(c){fnErr({fnName:"fnSCusErrDisplay",fnParams:b+", "+f+", "+a,err:c});}}function fnSRgn(c){try{var a=new clsCookie();if(c==""||c==undefined){a.set({name:"Rgn",key:"Code",value:"ALL"});}else{a.set({name:"Rgn",key:"Code",value:c,sess:false});}}catch(b){fnErr({fnName:"misc.js - fnSRgn",fnParams:c,err:b});}}function fnSwData(f,a,b){try{var h="http://content.bookmyshow.com/in/common/";for(var c=1;c<=b;c++){if("nx"==a){if(jq("#"+f+c).is(":visible")){if((c+1)<=b){fnSwapPrvNxt(f,c+1,b);}else{fnSwapPrvNxt(f,1,b);}return;}}else{if("pv"==a){if(jq("#"+f+c).is(":visible")){if((c-1)>0){fnSwapPrvNxt(f,c-1,b);}else{fnSwapPrvNxt(f,b,b);}return;}}else{if(c==a){jq("#"+f+c).show();jq("#"+f+"Img1"+c).removeClass("dot").addClass("dotem");jq("#"+f+"Img2"+c).removeClass("dot").addClass("dotem");}else{jq("#"+f+c).hide();jq("#"+f+"Img1"+c).removeClass("dotem").addClass("dot");jq("#"+f+"Img2"+c).removeClass("dotem").addClass("dot");}}}}}catch(g){fnErr({fnName:"fnSwData",fnParams:f+","+a+","+b,err:g});}}function fnSwapPrvNxt(f,a,b){try{var h="http://content.bookmyshow.com/in/common/";for(var c=1;c<=b;c++){if(c==a){jq("#"+f+c).show();jq("#"+f+"Img1"+c).removeClass("dot").addClass("dotem");jq("#"+f+"Img2"+c).removeClass("dot").addClass("dotem");}else{jq("#"+f+c).hide();jq("#"+f+"Img1"+c).removeClass("dotem").addClass("dot");jq("#"+f+"Img2"+c).removeClass("dotem").addClass("dot");}}}catch(g){fnErr({fnName:"fnSwapPrvNxt",fnParams:f+","+a+","+b,err:g});}}function fnTS(){try{return"&_="+(new Date().getTime());}catch(a){fnErr({fnName:"misc.js - fnTS",err:a});}}function fnUrlName(b){try{b=b.replace(/[^a-zA-Z 0-9]+/g,"");b=b.replace(new RegExp(" ","gi"),"-");b=b.replace(/-+/gi,"-");return b;}catch(a){fnErr({fnName:"misc.js - fnUrlName",fnParams:b,err:a});}}function fnWapPush(c,b){try{var a="";var f="";var i=fnGQS("s","");if(c==""||isNaN(c)==true){alert("Invalid Mobile No.");return;}switch(b){case"MOB":a="MOBAPP";f="PUSHMOB"+i;break;case"BB":a="MOBBB";f="PUSHBB"+i;break;}var h="http://services.in.bookmyshow.com/wappush/?mid="+a+"&mob="+c+"&ref="+f;fnPopup({url:h,height:450,width:650});}catch(g){fnErr({fnName:"misc.js - fnWapPush",fnParams:mobileNo+", "+b,err:g});}}function fnPushEventDataToAnalytics(c,b,f){try{var h=jq.extend(true,{},f);var a=jq.extend(true,{},f);if(jq.inArray("WR",c)!=-1){if(typeof(wizrocket)!=="undefined"&&typeof(wizrocket.event)!=="undefined"){wizrocket.event.push(b,h);}}if(jq.inArray("KM",c)!=-1){if(typeof(_kmq)!=="undefined"){_kmq.push(["record",b,a]);}}}catch(g){fnErr({fnName:arguments.callee.name,fnParams:arguments,err:g});}}function fnBusy(a){try{fnCover(a);if(a==true){fnDoFloat("#dBsy").fadeIn("fast");}else{fnCover(false);jq("#dBsy").fadeOut("fast");}}catch(b){fnErr({fnName:"fnBusy",fnParams:arguments,err:b});}}function fnCover(b){try{var a;if(jq("#dCover").length==0){a=jq("<div />").attr("id","dCover");a.css({background:"repeat scroll 0 0",backgroundImage:"url('/img/pay/t-bg.png')"});a.css({position:"absolute",zIndex:"2147483646"});a.css({top:"0px",left:"0px",width:"100%",height:jq(document).height()});jq("body").append(a);}else{a=jq("#dCover");a.css({width:"100%",height:jq(document).height()});}if(b){jq("#dCover").fadeIn("fast");clearTimeout(fnCover.objTimer);fnCover.objTimer=setTimeout("fnCover(true);",250);}else{jq("#dCover").hide();clearTimeout(fnCover.objTimer);}}catch(c){fnErr({fnName:"fnCover",fnParams:arguments,err:c});}}function fnDoFloat(a){try{var c={x:parseInt(jq(a).css("padding-top").replace("px",""))+parseInt(jq(a).css("margin-top").replace("px",""))+parseInt(jq(a).css("border-top-width").replace("px","")),y:parseInt(jq(a).css("padding-left").replace("px",""))+parseInt(jq(a).css("margin-left").replace("px",""))+parseInt(jq(a).css("border-left-width").replace("px",""))};var b={top:((jq(window).height()-jq(a).height())/2)-c.x,left:((jq(window).width()-jq(a).width())/2)-c.y};jq(a).css({position:"fixed",zIndex:"2147483647"});jq(a).css({top:b.top,left:b.left});clearTimeout(fnDoFloat.objTimer);fnDoFloat.objTimer=setTimeout('fnDoFloat("'+a+'")',500);return jq(a);}catch(f){fnErr({fnName:"fnDoFloat",fnParams:arguments,err:f});}}function fnVal(){}fnVal.address=function(a){try{var b=/^[a-zA-Z0-9 \\\/;:.,-]+$/g;return b.test(a);}catch(c){fnErr({fnName:"fnVal.address",fnParams:a,err:c});}};fnVal.chkName=function(a){try{a=jq.trim(a);pattern=/^[A-z]+(([\s\'\,\.\-][A-z])?[A-z]*)*$/gi;return pattern.test(a);}catch(b){fnErr({fnName:"fnVal.name",fnParams:a,err:b});}};fnVal.email=function(a){try{var b=/[a-z0-9!#$%&'*+\/=?^_`{|}~-]+(?:\.[a-z0-9!#$%&'*+\/=?^_`{|}~-]+)*@(?:[a-z0-9](?:[a-z0-9-]*[a-z0-9])?\.)+[a-z0-9](?:[a-z0-9-]*[a-z0-9])?/i;return b.test(a);}catch(c){fnErr({fnName:"fnVal.email",fnParams:a,err:c});}};fnVal.mob=function(a){try{var b=/^[789]\d{9}$/;return b.test(a);}catch(c){fnErr({fnName:"fnVal.mob",fnParams:a,err:c});}};function fnSwapTabs(b){try{jq("#"+b+" .nav > a").unbind("click");var a=jq("div#"+b+" > div");a.hide().filter("div:first").show();jq("div#"+b+" > div:first > div > a").click(function(){a.hide();jq("#"+b+" > div:first").show();a.filter(this.hash).fadeIn("fast");jq("div#"+b+" div > a").removeClass("selected");jq(this).addClass("selected");return false;}).filter(":first").click();}catch(c){fnErr({fnName:"fnSwapTabs",fnParams:b,err:c});}}(function(a){a.fn.selectBox=function(e){var f={defaultText:"Please select",data:[],maxRows:0,legendsPosition:"up",legendsClass:"ddrrl_leg",heartRedText:"Like",heartGreyText:"Unlike",thumbUpText:"Must Go",thumbDownText:"Thumbs Down",heartRedIcon:"heartRed",heartGreyIcon:"heartGrey",thumbUpIcon:"ic-tup thsel",thumbDownIcon:"thumbDown",itemHeaderClass:"hd",itemNoClickClass:"noclick",noDataText:"No Records Found!",noDataClass:"nodata",tooltipText:"",tooltipBdyClass:"tt_bdy",tooltipCntClass:"tt_cnt",tooltipArrDownClass:"tt_arr_down",tooltipArrUpClass:"tt_arr_up",mainContainerClass:"ddrbg",listContainerClass:"ddrrl",scroll:"",maxWidth:910,onChange:function(l){}};var h=this;h.settings={};h.toolTip={};h.tooltipEnabled=true;h.listEnabled=true;var k=a(this);var j={index:-1,name:"",value:"",clickable:"",heart:"",thumb:""};h.init=function(){h.settings=a.extend({},f,e);h.toolTipText=h.settings.tooltipText;h.settings.maxRows=(h.settings.maxRows==0?h.settings.data.length:h.settings.maxRows);k.html("");h.input=a("<input/>").attr("type","text").val(h.settings.defaultText).css("border","none");h.mainContainer=a("<div/>").attr("class",h.settings.mainContainerClass);h.listContainer=a("<div/>").attr("class",h.settings.listContainerClass).hide().append(a('<div class="wrap"/>'));h.listWrapper=h.listContainer.find("div.wrap");h.toolTip=a("<div/>").attr("class",h.settings.tooltipBdyClass).hide();h.toolTip.container=a("<div/>").attr("class",h.settings.tooltipCntClass).html(h.toolTipText);h.toolTip.arrowUp=a("<div/>").attr("class",h.settings.tooltipArrUpClass).hide();h.toolTip.arrowDown=a("<div/>").attr("class",h.settings.tooltipArrDownClass).hide();h.toolTip.append(h.toolTip.arrowUp);h.toolTip.append(h.toolTip.container);h.toolTip.append(h.toolTip.arrowDown);h.input.appendTo(h.mainContainer);h.mainContainer.append(jq("<span/>").attr("class","insarr").append(jq("<span/>").attr("class","ic-ardn")));h.mainContainer.appendTo(k);h.listContainer.appendTo(k);h.listWrapper.appendTo(h.listContainer);h.toolTip.appendTo(k);h.mainContainer.css("width",h.width());h.input.css({width:(h.mainContainer.outerWidth()-45)+"px"});h.mainContainer.click(function(){h.showMenu();b(true);h.input.focus();});h.mainContainer.mouseover(function(){if(h.listContainer.is(":visible")){h.showMenu();b(false);}});h.mainContainer.mouseout(function(){i();b(false);});h.listContainer.mouseover(function(){h.showMenu(false);});h.listContainer.mouseout(function(){i();});h.input.keyup(function(){h.showMenu();b(false);});h.input.focus(function(){if(h.listEnabled){h.settings.isTextFocus=true;h.input.val("");}});h.input.blur(function(){if(h.listEnabled){h.settings.isTextFocus=false;if(j.name!=""&&j.value!=""){h.input.val(j.name);}else{h.input.val(h.settings.defaultText);j.value="";j.name="";}}});h.listContainer.find("."+h.settings.legendsClass).css("right","-"+h.listContainer.scrollLeft()+"px");h.listContainer.scroll(function(){a(this).find("."+h.settings.legendsClass).css("right",((h.listContainer.scrollLeft()*-1)+10)+"px");});};var b=function(l){if(h.tooltipEnabled){if(h.toolTipText!=""){if(l==true&&h.settings.data.length>0){h.toolTip.container.html(h.toolTipText);h.toolTip.fadeIn("fast");}else{h.toolTip.fadeOut("fast");}if(h.settings.data.length==1&&h.settings.data[0]&&h.settings.data[0].value=="nodata"){if(h.settings.defaultText=="Loading..."){h.toolTip.hide();}if(document.readyState!="complete"||!h.hasDataLoaded){h.toolTip.hide();}}}}};var c=function(){h.listWrapper.html("");var o=[];if(h.settings.data.length>0){if(h.settings.isTextFocus){for(var z=0;z<h.settings.data.length;z++){var A=h.input.val().replace(/^(\s|\W)+|(\s|\W)+$/g,"").replace(/(\s|\W)+/g,"|");var p=new RegExp(A,"gi");var u=(!h.settings.data[z].brk?h.settings.data[z].name:"");var n=false;if(h.settings.data[z].alias!=undefined){var x=h.settings.data[z].alias;for(var s=0;s<x.length;s++){if(x[s].match(p)!=null){n=true;break;}}}if(u!=undefined&&u.match(p)!=null||n==true){if(h.input.val().length==0){o.push(h.settings.data[z]);}else{if(h.settings.data[z].header!=true){o.push(h.settings.data[z]);}}}}}else{for(var z=0;z<h.settings.data.length;z++){o.push(h.settings.data[z]);}}}if(o.length==0){o.push({name:"There are no results matching your search",value:"nodata",clickable:false,cls:"nodata"});}for(var z=0;z<Math.ceil(o.length/h.settings.maxRows);z++){h.listWrapper.append(a("<ul/>"));}var w={thumbUp:false,thumbDown:false,heartRed:false,heartGrey:false};if(o.length>0){var r=0;a(o).each(function(B,C){h.listContainer.find("ul").eq(r).append(g(B,C,o));if((B+1)%h.settings.maxRows==0){r++;}if(C.thumb=="up"){w.thumbUp=true;}if(C.thumb=="down"){w.thumbDown=true;}if(C.heart=="red"){w.heartRed=true;}if(C.heart=="grey"){w.heartGrey=true;}});h.listContainer.find("ul").each(function(C,B){var D=a(B).find("li:last");if(D.hasClass(h.settings.itemHeaderClass)){h.listContainer.find("ul").eq(C+1).prepend(D.clone());D.remove();}});}var t=(w.thumbUp==true||w.thumbDown==true||w.heartRed==true||w.heartGrey==true?true:false);var q=a("<div/>").attr("class",h.settings.legendsClass);if(t==true){var l=[];for(var v in w){if(w.hasOwnProperty(v)&&w[v]==true){switch(v){case"thumbUp":l.push('<span class="'+h.settings.thumbUpIcon+'"></span> '+h.settings.thumbUpText);break;case"thumbDown":l.push('<span class="'+h.settings.thumbDownIcon+'"></span> '+h.settings.thumbDownText);break;case"heartRed":l.push('<span class="'+h.settings.heartRedIcon+'"></span> '+h.settings.heartRedText);break;case"heartGrey":l.push('<span class="'+h.settings.heartGreyIcon+'"></span> '+h.settings.heartGreyText);break;}}}}if(h.listEnabled){h.listContainer.show(0,function(){h.listWrapper.show();var B=[];h.listContainer.find("ul").each(function(D,E){B[D]=100;});h.listContainer.find("ul").each(function(D,E){if(a(this).width()>B[D]){B[D]=a(this).width()+20;}});if(h.listContainer.find("ul").length==1){if(t==true){B[0]=k.width();}else{B[0]=k.width()-26;}}h.listContainer.find("ul").each(function(D,E){a(this).width(B[D]);});var C=0;a(B).each(function(D,E){C+=E;});h.listWrapper.width(C+10*h.listWrapper.find("ul").length+10+"px");if(h.listWrapper.width()<(k.width()+10)){h.listWrapper.width(k.width()+"px");}if(t==true){q.html(l.join("&nbsp;&nbsp;<b>|</b>&nbsp;&nbsp;"));q.css("height","15px");if(h.settings.legendsPosition.toLowerCase()=="down"){h.listContainer.css("padding-bottom","38px");q.css("bottom","0px");}else{h.listContainer.css("padding-top","15px");q.css("top","0px");}h.listWrapper.append(q);}else{h.listContainer.css("padding-bottom","0px");}if(h.listWrapper.width()>h.settings.maxWidth&&jq.trim(h.settings.scroll).toLowerCase()=="horizontal"){h.listContainer.css({width:h.settings.maxWidth+"px",overflowX:"scroll"});h.listContainer.scrollLeft(0);}else{h.listContainer.css({width:h.listWrapper.width()+"px",overflowX:"auto"});}});}};function g(l,p,o){var n=p;p.clickable=(p.clickable!=undefined?p.clickable:true);p.heart=(n.heart!=undefined?n.heart:"");p.thumb=(n.thumb!=undefined?n.thumb:"");p.header=(n.header!=undefined?n.header:false);p.alias=(n.alias!=undefined?n.alias:[]);$cLi=a("<li/>");if(p.brk!=undefined&&p.brk==true){p.type="break";$cLi.attr("class",h.settings.itemNoClickClass).html("<hr/>");}else{if(p.header==true){p.type="header";$cLi.attr("class",h.settings.itemHeaderClass);}else{p.type="item";}if(p.clickable==false){$cLi.addClass(h.settings.itemNoClickClass);}$cLi.attr("data-value",p.value).html(p.name);if(p.heart!=""){$hrImg=a("<span/>");switch(p.heart){case"red":default:$hrImg.attr("class",h.settings.heartRedIcon);break;case"grey":$hrImg.attr("class",h.settings.heartGreyIcon);break;}$cLi.append($hrImg);}if(p.thumb!=""){$thImg=a("<span/>");switch(p.thumb){case"up":default:$thImg.attr("class",h.settings.thumbUpIcon);break;case"down":$thImg.attr("class",h.settings.thumbDownIcon);break;}$cLi.append($thImg);}}if((p.type=="header"||p.type=="item")&&p.clickable!=false){$cLi.click(function(){j=o[l];h.input.val(j.name.replace(/<\S[^><]*>/g,""));h.listContainer.hide();h.settings.onChange(j);});}if(p.cls!=undefined&&p.cls!=""){$cLi.attr("class",p.cls);}return $cLi;}var i=function(){clearTimeout(h.timer);h.timer=setTimeout(function(){h.listContainer.hide();},500);};h.hideMenu=function(){h.listContainer.hide();};h.showMenu=function(l){jq(".cmbBox").not("#"+h.attr("id")).find("."+h.settings.listContainerClass).hide();var q=true;if(h.settings.data.length==0){h.settings.data.push({name:h.settings.noDataText,value:"nodata",clickable:false,cls:"nodata"});}if(h.settings.data.length==0||(h.settings.data.length==1&&h.settings.data[0]&&h.settings.data[0].value=="nodata")){if(document.readyState!="complete"){q=false;}}if(q==true&&h.settings.data.length>0){l=(l==undefined?true:l);if(l==true){c();}if(h.listEnabled&&h.settings.data.length>0&&a.trim(h.listContainer.html())!=""){h.listContainer.show();clearTimeout(h.timer);}}var s=h.input.offset().left-h.input.width();var r=a(window).width()+a(window).scrollLeft()-h.input.offset().left-h.input.width()-35;var t=h.input.offset().top-a(window).scrollTop()-h.input.height()+30;var p=a(window).height()+a(window).scrollTop()-h.input.offset().top-h.input.height();var n=s>r;var o=t>p;if(h.listContainer.height()<=p){o=false;}if(h.listContainer.height()>=t){o=false;}if(n){h.listContainer.css("left",(h.input.offset().left+h.input.width())-h.listContainer.width()+35);}else{h.listContainer.css("left",h.input.offset().left-10);}if(o){h.toolTip.css({left:k.offset().left+"px",top:(k.offset().top+k.height())+"px"});h.toolTip.arrowUp.show();h.toolTip.arrowDown.hide();h.listContainer.css("top",h.input.offset().top-(h.input.height()+h.listContainer.height())+10+"px");}else{h.toolTip.css({left:k.offset().left+"px",top:(k.offset().top-k.height())+"px"});h.toolTip.arrowUp.hide();h.toolTip.arrowDown.show();h.listContainer.css("top",h.input.offset().top+h.input.height()+10+"px");}if(h.settings.data.length<=0){h.settings.data.push({name:h.settings.noDataText,value:"nodata",clickable:false,cls:"nodata"});}};h.addOpt=function(l){h.settings.data.push(l);};h.clearOpts=function(l){h.settings.data=[];if(l){h.input.val(l);h.settings.defaultText=l;}j={index:-1,name:"",value:"",clickable:"",heart:"",thumb:""};};h.setTooltip=function(l){if(l){h.toolTipText=l;h.toolTip.container.html(h.toolTipText);}};h.data=function(){return h.settings.data;};h.count=function(){return h.settings.data.length;};h.getCurrent=function(){return j;};h.setValue=function(n,o){if(h.settings.data.length!=0){for(var l=0;l<h.settings.data.length;l++){if(h.settings.data[l].value==n){j.index=l;j.name=h.settings.data[l].name;j.value=h.settings.data[l].value;j.heart=(h.settings.data[l].heart!=undefined?h.settings.data[l].heart:"");j.thumb=(h.settings.data[l].thumb!=undefined?h.settings.data[l].thumb:"");j.clickable=(h.settings.data[l].clickable!=undefined?h.settings.data[l].clickable:true);j.header=(h.settings.data[l].header!=undefined?h.settings.data[l].header:true);j.alias=(h.settings.data[l].alias!=undefined?h.settings.data[l].alias:[]);h.input.val(h.settings.data[l].name);break;}}if(o==undefined){o=true;}if(o==true){h.settings.onChange(j);}}};h.setNoDataText=function(n,l){h.settings.noDataText=n;if(l&&l!=""){h.settings.noDataClass=l;}};h.resetSelected=function(){j={index:-1,name:"",value:"",clickable:"",heart:"",thumb:"",header:false,alias:[]};h.input.val(h.settings.defaultText);};h.toggleEnable=function(l,n){if(l){h.tooltipEnabled=true;h.listEnabled=true;h.input.removeAttr("disabled");}else{h.tooltipEnabled=false;h.listEnabled=false;h.input.attr("disabled","disabled");}};h.isEnabled=function(){return h.tooltipEnabled&&h.listEnabled;};h.init();return h;};})(jQuery);var cmbMovie,cmbPlay,cmbMovieDate,cmbSports;var rstEvt=true,rstVns=true,rstDts=true;var psc="ET",pex="Select Movie",pvx="Select Cinema",petooltip="Search by Movie Name",pvtooltip="Search by Cinema Name",pet="MT",pvc="";function fnOcCriteria(c,a){try{jq("#cmbMovie .ddrrl").hide();jq("#cmbMovieDate .ddrrl").hide();psc=c;pet=a;if(psc=="ET"&&pet=="MT"){jq("#rdbMovie").attr("checked","checked");}if(psc=="ET"&&pet=="PL"){jq("#rdbPlay").attr("checked","checked");}if(pet=="MT"){pex="Select Movie";pvx="Select Cinema";petooltip="Search by Movie Name";pvtooltip="Search by Cinema Name";cmbMovie.clearOpts(psc=="ET"?pex:pvx);cmbMovie.setTooltip(psc=="ET"?petooltip:pvtooltip);cmbMovieDate.clearOpts("Select Date");psc=="ET"?fnShowEvent():fnShowVenue();cmbMovie.setNoDataText(psc=="ET"?"Movies aren't playing in this region":"No cinemas in this region");cmbMovieDate.setNoDataText(psc=="ET"?"Please select a movie first":"Please select a cinema first");}else{if(pet=="PL"){pex="Select Play";pvx="Select Theatre";petooltip="Search by Play Name";pvtooltip="Search by Theatre Name";cmbPlay.clearOpts(psc=="ET"?pex:pvx);cmbPlay.setTooltip(psc=="ET"?petooltip:pvtooltip);psc=="ET"?fnShowPlay():fnShowTheatres();cmbPlay.setNoDataText(psc=="ET"?"Plays aren't playing in this region":"No theatres in this region");}else{if(pet=="SP"){pex="Select Sport";pvx="Select Venue";petooltip="Search by Sport Name";pvtooltip="Search by Venue Name";cmbSports.clearOpts(psc=="ET"?pex:pvx);cmbSports.setTooltip(psc=="ET"?petooltip:pvtooltip);psc=="ET"?fnShowSport():fnShowSport();cmbSports.setNoDataText(psc=="ET"?"No sports found":"No venues found");}}}}catch(b){fnErr({fnName:"fnOcCriteria",err:b});}}function fnShowEvent(b){try{jq("#cmbMovie input[type='text']").val("Loading...");jq("#cmbMovieDate input[type='text']").val("Loading...");cmbMovie.toggleEnable(false);cmbMovieDate.toggleEnable(false);var c="/getJSData/?file="+global.dumpPath+"GetEvents_MT.js&cmd=GETEVENTSWEB&et=MT&rc="+fnGRgn()+"&_="+fnTS();jq.getScript(c,function(a){fnLoadEvent();});}catch(f){fnErr({fnName:"fnShowEvent",err:f});}}function fnShowSport(){try{jq("#cmbSports input[type='text']").val("Loading...");cmbSports.toggleEnable(false);var b="/getJSData/?file=/js/GetSports.js&cmd=GETEVENTSWEB&et=SP&rc=&_="+fnTS();jq.getScript(b,function(a){fnLoadSport();});}catch(c){fnErr({fnName:"fnShowSport",err:c});}}function fnLoadSport(){try{cmbSports.clearOpts(pex);if(typeof(aiEV)!="undefined"&&aiEV.length!=0&&aiEV[0][0]=="SP"){var g=[];for(var k=0;k<aiReg.length;k++){if(fnGRgn()==aiReg[k][0]){g.push(aiReg[k]);}}for(var k=0;k<aiReg.length;k++){if(fnGRgn()!=aiReg[k][0]){g.push(aiReg[k]);}}var f={};for(var k=0;k<g.length;k++){for(var j=0;j<aiSRE.length;j++){if(aiSRE[j][2]==g[k][2]){var p=g[k][1],o=g[k][3],b=aiSRE[j][1],r=(o==p?p:p+" - "+o);if(f[r]==undefined){f[r]=[];}for(var n=0;n<aiEV.length;n++){if(aiEV[n][1]==b){f[r].push({eventCode:aiEV[n][1],eventName:aiEV[n][4],eventUrl:"/sport/"+fnUrlName(jq.trim(aiEV[n][4]))+"/"+aiEV[n][1]});}}}}}for(var p in f){cmbSports.addOpt({name:p,value:"",clickable:false,header:true});if(f.hasOwnProperty(p)){for(var q=0;q<f[p].length;q++){cmbSports.addOpt({name:f[p][q]["eventName"],value:f[p][q]["eventUrl"]});}}}}else{if(typeof(aSports)=="undefined"){aSports=[];}for(var h=0;h<aSports.length;h++){cmbSports.addOpt({name:aSports[h][0]+" "+aSports[h][2],value:aSports[h][1]});}}cmbSports.toggleEnable(true);}catch(l){fnErr({fnName:"fnLoadSport",err:l});}}function fnLoadEvent(){try{var g=fnGRgn();cmbMovie.clearOpts(pex);cmbMovieDate.clearOpts("Select Date");var h=aiSRE.toString();for(var k=0;k<aiLN.length;k++){var j=true;for(var a=0;a<aiEV.length;a++){if(h.match(g+","+aiEV[a][1])){if(aiEV[a][2]==aiLN[k][0]){if(j){cmbMovie.addOpt({name:aiLN[k][0],value:"",clickable:false,header:true});j=false;}cmbMovie.addOpt({name:aiEV[a][4],value:aiEV[a][1],thumb:((typeof(arrRecomEvents_MT)!=="undefined"&&jq.inArray(aiEV[a][1],arrRecomEvents_MT)!=-1)?"up":"")});}}}}if(rstEvt==true){if(fnGQS&&(fnGQS("eid")!="")){cmbMovie.setValue(fnGQS("eid"));}else{if(fnGQS&&(fnGQS("cid")!="")){cmbMovie.setValue(fnGQS("cid"));}}rstEvt=false;}cmbMovie.toggleEnable(true);cmbMovieDate.toggleEnable(true);}catch(i){fnErr({fnName:"fnLoadEvent",err:i});}}function fnShowVenue(b){try{jq("#rdbCinema").attr("checked",true);var f=fnGRgn();cmbMovie.clearOpts("Loading...");cmbMovieDate.clearOpts("Loading...");cmbMovie.toggleEnable(false);cmbMovieDate.toggleEnable(false);var c="/getJSData/?file="+global.dumpPath+"GetVenues_"+pet+"_"+f+".js&cmd=GETVENUESWEB&et="+pet+"&rc="+f+"&_="+fnTS();jq.ajax({url:c,dataType:"script",success:fnLoadVenues,error:function(){aiVN=[];fnLoadVenues();}});}catch(g){fnErr({fnName:"fnShowVenue",err:g});}}function fnLoadVenues(){try{cmbMovie.clearOpts(pvx);cmbMovieDate.clearOpts("Select Date");if(typeof(aiVN)!="undefined"){for(var b=0;b<aiVN.length;b++){cmbMovie.addOpt({name:aiVN[b][2],value:aiVN[b][0]});}if(rstVns==true){if(fnGQS&&(fnGQS("cid")!="")){cmbMovie.setValue(fnGQS("cid"));}rstVns=false;}}cmbMovie.toggleEnable(true);cmbMovieDate.toggleEnable(true);}catch(c){fnErr({fnName:"fnLoadVenues",err:c});}}function fnShowDate(){try{var c=jq("#rdbMovie").is(":checked")?"ET":"VN";cmbMovieDate.toggleEnable(false);if(cmbMovieDate.getCurrent().value==""){cmbMovieDate.clearOpts("Select Date");}else{cmbMovieDate.clearOpts("Loading...");}var f=fnGRgn();var g=c=="ET"?cmbMovie.getCurrent().value:"";var h=c=="VN"?cmbMovie.getCurrent().value:"";if(cmbMovie.getCurrent().value!=""){jq("#cmbMovieDate input[type='text']").val("Loading...");var b="";if(c=="ET"){b="/getJSData/?file="+global.dumpPath+"GetShowDatesByEvent_"+g+"_"+f+".js&cmd=GETSHOWDATESBYEVENTWEB&ec="+g+"&rc="+f+"&_="+fnTS();}else{b="/getJSData/?file="+global.dumpPath+"GetShowDatesByVenue_"+h+".js&cmd=GETSHOWDATESBYVENUEWEB&vc="+h+"&rc="+f+"&_="+fnTS();}jq.ajax({url:b,dataType:"script",success:fnLoadDate,error:function(){aiSD=[];fnLoadDate();}});}}catch(i){fnErr({fnName:"fnShowDate",err:i});}}function fnLoadDate(){try{var c="";cmbMovieDate.clearOpts("Select Date");var g=[];for(var f=0;f<aiSD.length;f++){if(c.search(aiSD[f][3])<0){g.push({name:aiSD[f][4],value:aiSD[f][3]});c+=aiSD[f][3]+"|";}}g.sort(function(i,e){if(i.value==e.value){return 0;}return i.value<e.value?-1:1;});for(var f=0;f<g.length;f++){cmbMovieDate.addOpt(g[f]);}if(rstDts==true){if(fnGQS&&(fnGQS("did")!="")){cmbMovieDate.setValue(fnGQS("did"),false);}rstDts=false;}cmbMovieDate.toggleEnable(true);if(fnGQS("srid")==""){cmbMovieDate.showMenu();}}catch(h){fnErr({fnName:"fnLoadDate",err:h});}}function fnShowTime(){try{var h=fnGRgn();var a=jq("#rdbMovie").is(":checked")?"ET":"VN";var j=a=="ET"?cmbMovie.getCurrent().value:"";var l=a=="VN"?cmbMovie.getCurrent().value:"";var g=aiReg[0][1],k=location.href.split("/");str_url="/buytickets/";var b="";for(var c=0;c<aiEV.length;c++){if(cmbMovie.getCurrent().value==aiEV[c][1]){b=aiEV[c][10];break;}}str_url+=(a=="ET")?(b+"-"+fnUrlName(g.toLowerCase())):fnUrlName(cmbMovie.getCurrent().name.toLowerCase());str_url+="/"+((a=="ET")?"movie":"cinema")+"-"+h.toLowerCase()+"-"+((a=="ET")?j:l)+"-MT/"+cmbMovieDate.getCurrent().value;fnGoTo(str_url);}catch(f){fnErr({fnName:"fnShowTime",err:f});}}function fnShowPlay(){try{cmbPlay.clearOpts("Loading...");cmbPlay.toggleEnable(false);var b="/getJSData/?file="+global.dumpPath+"GetEvents_PL.js&cmd=GETEVENTSWEB&et=PL&rc="+fnGRgn()+"&_="+fnTS();jq.ajax({url:b,dataType:"script",success:fnLoadPlays,error:function(){fnLoadPlays();}});}catch(c){fnErr({fnName:"fnShowPlay",err:c});}}function fnLoadPlays(){try{var g=fnGRgn();cmbPlay.clearOpts(pex);var h=aiSRE.toString();for(var k=0;k<aiLN.length;k++){var j=true;for(var a=0;a<aiEV.length;a++){if(h.match(g+","+aiEV[a][1])){if(aiEV[a][2]==aiLN[k][0]){if(j){cmbPlay.addOpt({name:aiLN[k][0],value:"",clickable:false,header:true});j=false;}cmbPlay.addOpt({name:aiEV[a][4],value:aiEV[a][1],thumb:(aiEV[a][9]==3?"up":"")});}}}}cmbPlay.toggleEnable(true);}catch(i){fnErr({fnName:"fnLoadPlays",err:i});}}function fnShowTheatres(){try{var c=fnGRgn();cmbPlay.clearOpts("Loading...");var b=global.dumpPath+"GetVenues_"+pet+"_"+c+".js?"+fnTS();jq.getScript(b,function(a){fnLoadTheatres();});}catch(f){fnErr({fnName:"fnShowTheatres",err:f});}}function fnLoadTheatres(){try{cmbPlay.clearOpts(pvx);for(var b=0;b<aiVN.length;b++){cmbPlay.addOpt({name:aiVN[b][2],value:aiVN[b][0]});}}catch(c){fnErr({fnName:"fnLoadTheatres",err:c});}}function fnGotoPlayLanding(){try{var a="";if(psc=="VN"&&pet=="PL"){a="/theaters/"+fnUrlName(cmbPlay.getCurrent().name.split("|")[0])+"/"+cmbPlay.getCurrent().value;}else{a="/plays/"+fnUrlName(cmbPlay.getCurrent().name.split("|")[0])+"/"+cmbPlay.getCurrent().value;}fnGoTo(a);}catch(b){fnErr({fnName:"fnGotoPlayLanding",err:b});}}jq(document).ready(function(){function a(){try{if(jq("#dHideInstaBook").is(":visible")){jq("#dHideInstaBook").css({left:jq(".topsec").offset().left,top:jq(".topsec").offset().top});}}catch(c){fnErr({fnName:"fnFxGrPos",fnParams:arguments,err:c});}}a();jq(window).resize(a);if(jq("#bookinst").length==0){if(jq("#cmbMovie").length!=0){if(global.RgnCallBack==undefined){global.RgnCallBack=[];}global.RgnCallBack.push(function(){fnOcCriteria("ET","MT");});var b=(pet=="MT"?"Movies aren't playing in this region":(pet=="PL"?"Plays aren't playing in this region":"No Records Found"));cmbMovie=jq("#cmbMovie").selectBox({defaultText:"Loading...",tooltipText:"Search by Movie Name",noDataText:b,thumbUpIcon:"ic-star recDpStr",thumbUpText:"Recommended"+(pet=="MT"?" Movie":""),legendsPosition:"down",maxRows:20,scroll:"horizontal",maxWidth:910,onChange:function(c){fnShowDate();}});}if(jq("#cmbMovieDate").length!=0){cmbMovieDate=jq("#cmbMovieDate").selectBox({defaultText:"Loading...",tooltipText:"Search by Date",maxRows:20,onChange:function(c){fnShowTime();}});}if(jq("#cmbPlay").length!=0){cmbPlay=jq("#cmbPlay").selectBox({defaultText:"Select Play",tooltipText:"Search by Play Name",maxRows:20,scroll:"horizontal",maxWidth:910,onChange:function(c){fnGotoPlayLanding();}});}if(jq("#cmbSports").length!=0){cmbSports=jq("#cmbSports").selectBox({defaultText:"Select Sport",tooltipText:"Search by Sport Name",maxRows:20,scroll:"horizontal",maxWidth:910,onChange:function(c){fnGoTo(c.value);}});}}if(global.SignInCallBack==undefined){global.SignInCallBack=[];}global.SignInCallBack.push(function(){if(typeof(fnTopOnBMS)!=="undefined"){fnTopOnBMS(10);}if(typeof(fnTrnd)!=="undefined"){fnTrnd();}if(typeof aIBSEvents!="undefined"){aIBSEvents=undefined;fnInstEvnts();}if(fnGRgn()!=""&&fnGRgn()!="ALL"){if(jq("#cmbMovie").length!=0){fnOcCriteria("ET","MT");}jq("#dHideInstaBook").hide();}else{jq("#dHideInstaBook").show();}});});function fnInitInstBk(b){try{function a(){try{if(jq("#dIBSOverlay").is(":visible")){jq("#dIBSOverlay").css({left:jq("#ibswrapper").offset().left,top:jq("#ibswrapper").offset().top});}}catch(g){fnErr({fnName:"fnFxGrPos",fnParams:arguments,err:g});}}window.onload=a;jq(window).resize(a);if(jq("#bookinst").length!=0){if(jq("#cmbMovie").length!=0){cmbMovie=jq("#cmbMovie").selectBox({defaultText:"Loading...",tooltipText:"Search by Movie Name",maxRows:20,thumbUpIcon:"ic-star recDpStr",thumbUpText:"Recommended Movie",legendsPosition:"down",scroll:"horizontal",maxWidth:800,onChange:fnShowDate});}if(jq("#cmbMovieDate").length!=0){cmbMovieDate=jq("#cmbMovieDate").selectBox({defaultText:"Loading...",tooltipText:"Search by Date",maxRows:20,onChange:fnShowTime});}if(jq("#cmbPlay").length!=0){cmbPlay=jq("#cmbPlay").selectBox({defaultText:"Loading...",tooltipText:"Search by Play Name",maxRows:20,scroll:"horizontal",maxWidth:542,onChange:fnGotoPlayLanding});}if(fnGQS("eid","")!=""){jq("#rdbMovie").attr("checked","checked");var c="ET";}else{if(fnGQS("cid","")!=""){jq("#rdbCinema").attr("checked","checked");var c="VN";}else{jq("#rdbMovie").attr("checked","checked");var c="ET";}}fnOcCriteria(c,b);(global.RgnCallBack=global.RgnCallBack||[]).push(function(){fnOcCriteria(c,b);if(fnGRgn()==""||fnGRgn()=="ALL"){jq("#dIBSOverlay").show();}else{jq("#dIBSOverlay").hide();}});}}catch(f){fnErr({fnName:"fnInitInstBk",err:f});}}jQuery.easing.jswing=jQuery.easing.swing;jQuery.extend(jQuery.easing,{def:"easeOutQuad",swing:function(e,f,a,h,g){return jQuery.easing[jQuery.easing.def](e,f,a,h,g);},easeInQuad:function(e,f,a,h,g){return h*(f/=g)*f+a;},easeOutQuad:function(e,f,a,h,g){return -h*(f/=g)*(f-2)+a;},easeInOutQuad:function(e,f,a,h,g){if((f/=g/2)<1){return h/2*f*f+a;}return -h/2*((--f)*(f-2)-1)+a;},easeInCubic:function(e,f,a,h,g){return h*(f/=g)*f*f+a;},easeOutCubic:function(e,f,a,h,g){return h*((f=f/g-1)*f*f+1)+a;},easeInOutCubic:function(e,f,a,h,g){if((f/=g/2)<1){return h/2*f*f*f+a;}return h/2*((f-=2)*f*f+2)+a;},easeInQuart:function(e,f,a,h,g){return h*(f/=g)*f*f*f+a;},easeOutQuart:function(e,f,a,h,g){return -h*((f=f/g-1)*f*f*f-1)+a;},easeInOutQuart:function(e,f,a,h,g){if((f/=g/2)<1){return h/2*f*f*f*f+a;}return -h/2*((f-=2)*f*f*f-2)+a;},easeInQuint:function(e,f,a,h,g){return h*(f/=g)*f*f*f*f+a;},easeOutQuint:function(e,f,a,h,g){return h*((f=f/g-1)*f*f*f*f+1)+a;},easeInOutQuint:function(e,f,a,h,g){if((f/=g/2)<1){return h/2*f*f*f*f*f+a;}return h/2*((f-=2)*f*f*f*f+2)+a;},easeInSine:function(e,f,a,h,g){return -h*Math.cos(f/g*(Math.PI/2))+h+a;},easeOutSine:function(e,f,a,h,g){return h*Math.sin(f/g*(Math.PI/2))+a;},easeInOutSine:function(e,f,a,h,g){return -h/2*(Math.cos(Math.PI*f/g)-1)+a;},easeInExpo:function(e,f,a,h,g){return(f==0)?a:h*Math.pow(2,10*(f/g-1))+a;},easeOutExpo:function(e,f,a,h,g){return(f==g)?a+h:h*(-Math.pow(2,-10*f/g)+1)+a;},easeInOutExpo:function(e,f,a,h,g){if(f==0){return a;}if(f==g){return a+h;}if((f/=g/2)<1){return h/2*Math.pow(2,10*(f-1))+a;}return h/2*(-Math.pow(2,-10*--f)+2)+a;},easeInCirc:function(e,f,a,h,g){return -h*(Math.sqrt(1-(f/=g)*f)-1)+a;},easeOutCirc:function(e,f,a,h,g){return h*Math.sqrt(1-(f=f/g-1)*f)+a;},easeInOutCirc:function(e,f,a,h,g){if((f/=g/2)<1){return -h/2*(Math.sqrt(1-f*f)-1)+a;}return h/2*(Math.sqrt(1-(f-=2)*f)+1)+a;},easeInElastic:function(f,h,e,l,k){var i=1.70158;var j=0;var g=l;if(h==0){return e;}if((h/=k)==1){return e+l;}if(!j){j=k*0.3;}if(g<Math.abs(l)){g=l;var i=j/4;}else{var i=j/(2*Math.PI)*Math.asin(l/g);}return -(g*Math.pow(2,10*(h-=1))*Math.sin((h*k-i)*(2*Math.PI)/j))+e;},easeOutElastic:function(f,h,e,l,k){var i=1.70158;var j=0;var g=l;if(h==0){return e;}if((h/=k)==1){return e+l;}if(!j){j=k*0.3;}if(g<Math.abs(l)){g=l;var i=j/4;}else{var i=j/(2*Math.PI)*Math.asin(l/g);}return g*Math.pow(2,-10*h)*Math.sin((h*k-i)*(2*Math.PI)/j)+l+e;},easeInOutElastic:function(f,h,e,l,k){var i=1.70158;var j=0;var g=l;if(h==0){return e;}if((h/=k/2)==2){return e+l;}if(!j){j=k*(0.3*1.5);}if(g<Math.abs(l)){g=l;var i=j/4;}else{var i=j/(2*Math.PI)*Math.asin(l/g);}if(h<1){return -0.5*(g*Math.pow(2,10*(h-=1))*Math.sin((h*k-i)*(2*Math.PI)/j))+e;}return g*Math.pow(2,-10*(h-=1))*Math.sin((h*k-i)*(2*Math.PI)/j)*0.5+l+e;},easeInBack:function(e,f,a,i,h,g){if(g==undefined){g=1.70158;}return i*(f/=h)*f*((g+1)*f-g)+a;},easeOutBack:function(e,f,a,i,h,g){if(g==undefined){g=1.70158;}return i*((f=f/h-1)*f*((g+1)*f+g)+1)+a;},easeInOutBack:function(e,f,a,i,h,g){if(g==undefined){g=1.70158;}if((f/=h/2)<1){return i/2*(f*f*(((g*=(1.525))+1)*f-g))+a;}return i/2*((f-=2)*f*(((g*=(1.525))+1)*f+g)+2)+a;},easeInBounce:function(e,f,a,h,g){return h-jQuery.easing.easeOutBounce(e,g-f,0,h,g)+a;},easeOutBounce:function(e,f,a,h,g){if((f/=g)<(1/2.75)){return h*(7.5625*f*f)+a;}else{if(f<(2/2.75)){return h*(7.5625*(f-=(1.5/2.75))*f+0.75)+a;}else{if(f<(2.5/2.75)){return h*(7.5625*(f-=(2.25/2.75))*f+0.9375)+a;}else{return h*(7.5625*(f-=(2.625/2.75))*f+0.984375)+a;}}}},easeInOutBounce:function(e,f,a,h,g){if(f<g/2){return jQuery.easing.easeInBounce(e,f*2,0,h,g)*0.5+a;}return jQuery.easing.easeOutBounce(e,f*2-g,0,h,g)*0.5+h*0.5+a;}});(function(){jQuery.fn.setAltText=function(b){var a=jQuery(this);if(!jQuery.browser.msie){return a;}else{return a.each(function(c,g){g=jQuery(g);var f=g.attr("placeholder")||"";var i=f!=undefined?f:b&&b.text&&b.text!=""?b.text:"Enter text";var h=b&&b.blurcolor?b.blurcolor:"#7F7F7F";var e=b&&b.focuscolor?b.focuscolor:g.css("color");g.bind({blur:function(){if(g.val()==i||g.val()==""){g.val(i).css("color",h);}else{g.css("color",e);}},focus:function(){if(g.val()==i){g.val("").css("color",e);}}});if(!g.is(":focus")){g.val(i).css("color",h);}});}};})();(function(){var a={mailcheck:{threshold:5,defaultDomains:["gmail.com","yahoo.com","yahoo.co.in","hotmail.com","in.com","sify.com","rediffmail.com","ymail.com","yahoo.in","rediff.com","rocketmail.com","live.com","live.in","google.com","indiatimes.com","mail.com","bookmyshow.com","bigtree.in","ovi.com","aol.com","aol.in","indiya.com","vsnl.net","india.com","eth.net","talktalk.com","airtelmail.in","inbox.com","hotmail.co.uk","yahoomail.co.in","msn.com","satyam.com","live.co.uk","yahoo.com.au","hotmail.ca","cooltoad.com","zmail.com","sifymail.com","facebook.com","rediffmail.co.in","gmail.co.in","bsnl.co.in","hotmail.in","boxbe.com","webdunia.com","mail.yahoo.co.in","outlook.in","outlook.com","rediffmail.in","comcast.net","yahoo.co.uk","yahoo.ca","btinternet.com","zoho.com","me.com","mac.com","live.com","googlemail.com","verizon.net","sbcglobal.net","att.net","gmx.com"],defaultTopLevelDomains:["co.uk","co.in","com","net","org","info","edu","gov","mil","in","ca","com.au"],run:function(c){c.domains=c.domains||a.mailcheck.defaultDomains;c.topLevelDomains=c.topLevelDomains||a.mailcheck.defaultTopLevelDomains;c.distanceFunction=c.distanceFunction||a.sift3Distance;var b=a.mailcheck.suggest(encodeURI(c.email),c.domains,c.topLevelDomains,c.distanceFunction);if(b){if(c.suggested){c.suggested(b);}}else{if(c.empty){c.empty();}}},suggest:function(h,e,i,g){h=h.toLowerCase();var c=this.splitEmail(h);var f=this.findClosestDomain(c.domain,e,g);if(f){if(f!=c.domain){return{address:c.address,domain:f,full:c.address+"@"+f};}}else{var b=this.findClosestDomain(c.topLevelDomain,i);if(c.domain&&b&&b!=c.topLevelDomain){var j=c.domain;f=j.substring(0,j.lastIndexOf(c.topLevelDomain))+b;return{address:c.address,domain:f,full:c.address+"@"+f};}}return false;},findClosestDomain:function(h,b,e){var j;var f=99;var c=null;if(!h||!b){return false;}if(!e){e=this.sift3Distance;}for(var g=0;g<b.length;g++){if(h===b[g]){return h;}j=e(h,b[g]);if(j<f){f=j;c=b[g];}}if(f<=this.threshold&&c!==null){return c;}else{return false;}},sift3Distance:function(h,e){if(h==null||h.length===0){if(e==null||e.length===0){return 0;}else{return e.length;}}if(e==null||e.length===0){return h.length;}var l=0;var k=0;var j=0;var b=0;var g=5;while((l+k<h.length)&&(l+j<e.length)){if(h.charAt(l+k)==e.charAt(l+j)){b++;}else{k=0;j=0;for(var f=0;f<g;f++){if((l+f<h.length)&&(h.charAt(l+f)==e.charAt(l))){k=f;break;}if((l+f<e.length)&&(h.charAt(l)==e.charAt(l+f))){j=f;break;}}}l++;}return(h.length+e.length)/2-b;},splitEmail:function(c){var g=c.split("@");if(g.length<2){return false;}for(var e=0;e<g.length;e++){if(g[e]===""){return false;}}var f=g.pop();var h=f.split(".");var b="";if(h.length==0){return false;}else{if(h.length==1){b=h[0];}else{for(var e=1;e<h.length;e++){b+=h[e]+".";}if(h.length>=2){b=b.substring(0,b.length-1);}}}return{topLevelDomain:b,domain:f,address:g.join("@")};}}};if(typeof module!=="undefined"&&module.exports){module.exports=a.mailcheck;}if(typeof window!=="undefined"&&window.jQuery){(function(b){b.fn.mailcheck=function(g){var c=this;if(g.suggested){var f=g.suggested;g.suggested=function(h){f(c,h);};}if(g.empty){var e=g.empty;g.empty=function(){e.call(null,c);};}g.email=this.val();a.mailcheck.run(g);};})(jQuery);}})();var jq=jQuery.noConflict();function fnRgn(){}fnRgn.fnChkRgn=function(c){try{if(jq("#RegBox").length!=0){if(!c){return;}var a=fnGRgn();var k=new clsCookie();var o=k.get({name:"Rgn",key:"Code",defVal:"All"});var i=k.get({name:"Rgn",key:"text",defVal:"All"});var l=false;jq.each(regionlst,function(p,q){for(var e=0;e<q.length;e++){if(q[e]["code"]==o&&q[e]["name"]==i){l=true;}}});if(!l){k.del({name:"Rgn"});a=(a=="ALL")?a:"";}if(a=="ALL"){jq("#Reg").html("Select a Region");var g=jq("#Reg").offset();var h=g.top;var b=g.left;jq("#RegBox").animate({top:h,left:b,width:0,height:0});}else{if(a==""){jq("#Reg").html("Select a Region");fnCoverReg(true);fnDoFloat("#RegBox");setTimeout("jq('#RegBox').show();",1000);}else{var j=new clsCookie({name:"Rgn"});var n=j.get({key:"text"});jq("#Reg").html(n);var g=jq("#Reg").offset();var h=g.top;var b=g.left;jq("#RegBox").animate({top:h,left:b,width:0,height:0});}}}}catch(f){fnErr({fnName:"fnRgn.fnChkRgn",err:f});}};function toTitleCase(a){return a.replace(/\w\S*/g,function(b){return b.charAt(0).toUpperCase()+b.substr(1).toLowerCase();});}var prevFlt="";fnRgn.fnFilter=function(a,h){try{position=-1;jq("#RgDD"+h+" ul li:visible").css({background:"#FFFFFF"});jq("#DDMain"+h+">div").scrollTop(0);if(a!=""){jq("#DwnArrBtn").show();}var p=new RegExp("\\b"+a.toUpperCase()+"\\w*\\b","gi");var c=new Array();jq.each(regionlst,function(i,e){jq.each(e,function(q,j){p=new RegExp("\\b"+a.toUpperCase()+"\\w*\\b","gi");if(p.test(j.name.toUpperCase())){c.push(new Array(j.code,j.name));}});});for(var f=0;f<regionalias.length;f++){var o=false;for(var b=0;b<regionalias[f]["Alias"].length;b++){if(p.test(regionalias[f]["Alias"][b].toUpperCase())){o=true;break;}}if(o){c.push(new Array(regionalias[f]["code"],regionalias[f]["name"]));}}if(p.test("BOMBAY")||p.test("MUMBAI")||p.test("MUMBAI WESTERN")||p.test("Mumbai South Central")||p.test("NAVI MUMBAI")||p.test("KALYAN")||p.test("ULHASNAGAR")){c.push(new Array("MUMBAI","Mumbai"));}if(p.test("NATIONAL CAPITAL REGION")||p.test("NCR")||p.test("DELHI")||p.test("FARIDABAD")||p.test("GHAZIABAD")||p.test("GURGAON")||p.test("NOIDA")){c.push(new Array("NCR","National Capital Region (NCR)"));}var k=[];var l="";for(var n=0;n<c.length;n++){if(jq.inArray(c[n][1],k)==-1){l+='<li style="*height:27px;" id="'+c[n][0]+'"><a href="javascript:;">'+c[n][1]+"</li>";}k.push(c[n][1]);}if(l==""){jq("#RgDD"+h).html('<div id="NRF" style="text-align:center;  margin-top:10px;">--------------------------------&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;NO RESULT FOUND&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;--------------------------------</div>');}else{jq("#RgDD"+h).html("<ul></ul>");jq("#RgDD"+h+" ul").html(l);jq("#RgDD"+h+" ul").css("margin-top","0px");}if(jq("#InpBx"+h+"").val()!=""){setTimeout('jq("#DDMain'+h+'").show();',400);}else{jq("#DDMain"+h+"").hide(0);}setTimeout("jq('#DwnArrBtn').hide();",300);size=jq("#RgDD"+h+" ul li").size();}catch(g){fnErr({fnName:"fnRgn.fnFilter",fnParams:a+","+h,err:g});}};fnRgn.fnHideRegBx=function(g){try{var a;var k;if(g=="Done"){if(jq("#InpBx1").is(":visible")){var b=jq("#InpBx1").val();if(b=="Enter Your City"||b==""){alert("Select a Region");return;}jq.each(regionlst,function(l,e){jq.each(e,function(o,n){if(n.name==b){a=n.code;}});});fnGATracker({location:"CityCltext",action:"CitySeltd"});}else{var b=jq("#InpBx2").val();if(b=="Enter Your City"||b==""){alert("Select a Region");return;}jq.each(regionlst,function(l,e){jq.each(e,function(o,n){if(n.name==b){a=n.code;}});});fnGATracker({location:"AllCities",action:"CitySeltd"});}k=fnGRgn();fnSRgn(a);var j=new clsCookie({name:"Rgn"});j.set({key:"text",value:b,sess:false});if(typeof(fnRedirectToRegionPage)!=="undefined"){fnRedirectToRegionPage();}}else{if(jq("#cities").is(":visible")){fnGATracker({location:"CityCl",action:"Skip"});}else{fnGATracker({location:"AllCities",action:"Skip"});}}clearTimeout(fnDoFloat.objTimer);isEnter=false;var h=jq("#Reg").offset();var i=h.top;var c=h.left;if(b!=undefined){jq("#Reg").html(b);}jq(window).scrollTop(0);fnCoverReg(false);jq("#RegBox").css({overflow:"hidden"});jq("#RegBox").animate({top:i+5,left:c+65,width:0,height:0},{easing:"easeOutExpo",duration:1000,complete:function(){jq("#RegBox").hide(0,function(){jq("#InpBx1").val("Enter Your City");jq("#InpBx2").val("Enter Your City");jq("#states").hide();jq("#cities").show();jq("#NR1").hide();jq("#NR2").hide();if(g=="skip"){if(jq("#Reg").text()=="Select a Region"){fnSRgn("ALL");}return;}if(k!=fnGRgn()){fnFavGet();if(global.RgnCallBack!=undefined&&global.RgnCallBack.length>0){for(var e=0;e<global.RgnCallBack.length;e++){global.RgnCallBack[e].apply();}}}});}});}catch(f){fnErr({fnName:"fnRgn.fnHideRegBx",fnParams:g,err:f});}};fnRgn.fnShowRgBx=function(){try{fnGATracker({location:"Region",action:"SelCity"});var c=jq(window).height()/2-207/2;var b=jq(window).width()/2-500/2;jq("#RegBox").css({overflow:"visible"});jq("#RegBox").show();fnCoverReg(true);jq("#DwnArrBtn").hide();jq("#RegBox").animate({top:c,left:b,width:500,height:209},{easing:"easeInExpo",duration:500,complete:function(){fnDoFloat("#RegBox");}});}catch(a){fnErr({fnName:"fnRgn.fnShowRgBx",err:a});}};fnRgn.SReg=function(c,b){try{fnGATracker({location:"TopSrch",action:"CitySeltd"});clearTimeout(fnDoFloat.objTimer);isEnter=false;jq("#states").attr({style:""});var j=jq("#Reg").offset();var i=j.top;var h=j.left;jq("#Reg").html(b);var f=new clsCookie({name:"Rgn"});f.set({key:"text",value:b,sess:false});var a=fnGRgn();fnSRgn(c);if(typeof(fnRedirectToRegionPage)!=="undefined"){fnRedirectToRegionPage();}jq(window).scrollTop(0);fnCoverReg(false);jq("#RegBox").css({overflow:"hidden"});jq("#RegBox").animate({top:i+5,left:h+65,width:0,height:0},{easing:"easeOutExpo",duration:1000,complete:function(){jq("#RegBox").hide(0,function(){jq("#InpBx1").val("Enter Your City");jq("#states").hide();jq("#cities").show();jq("#NR1").hide();jq("#NR2").hide();if(a!=fnGRgn()){fnFavGet();if(global.RgnCallBack!=undefined&&global.RgnCallBack.length>0){for(var e=0;e<global.RgnCallBack.length;e++){global.RgnCallBack[e].apply();}}}});}});}catch(g){fnErr({fnName:"fnRgn.SReg",fnParams:c+","+b,err:g});}};fnRgn.fnSRegDD=function(a){try{var c="";c+='<ul class="fleft">';jq.each(regionlst,function(e,f){jq.each(f,function(g,h){c+='<li id="'+h.code+'"><a href="javascript:;">'+h.name+"</a></li>";});});c+="</ul>";jq("#DonBtn").hide();switch(a){case"cities":jq("#RgDD2").html("");jq("#RgDD1").html(c);break;case"states":jq("#RgDD1").html("");jq("#RgDD2").html(c);break;default:break;}}catch(b){fnErr({fnName:"fnRgn.fnSRegDD",fnParams:a,err:b});}};fnRgn.fnSwapColut=function(){try{fnGATracker({location:"CityCl",action:"AllCities"});var a="";var f="";var c=true;var b=0;isEnter=false;jq.each(regionlst,function(h,i){a+="<li>"+h+"</li>";if(c){var e=i;jq.each(i,function(j,k){if(b%10==0){f+="<ul>";}f+='<li id="'+k.code+'">'+k.name+"</li>";if(b%10==9){f+="</ul>";}b++;});c=false;}});f+="</ul>";jq(".sn > ul").html(a);jq(".sn > ul > li:eq(0)").addClass("selected");jq(".cn").html(f);jq("#cities").hide();jq("#RegBox").css({height:"auto"});jq("#states").show();jq(".sn").scrollTop(0);}catch(g){fnErr({fnName:"fnRgn.fnSwapColut",err:g});}};jq(document).on("click","#RgDD1 ul li",function(){jq("#InpBx1").val(jq(this).text());jq("#DDMain1").hide();fnRgn.fnHideRegBx("Done");});jq(document).on("click","#RgDD2 ul li",function(){jq("#InpBx2").val(jq(this).text());jq("#DDMain2").hide();fnRgn.fnHideRegBx("Done");});jq(document).on("keyup","#InpBx1",function(b){if(b.keyCode!=37&&b.keyCode!=38&&b.keyCode!=39&&b.keyCode!=40&&b.keyCode!=13){var a=jq(this).val();fnRgn.fnFilter(a,"1");}});jq(document).on("keyup","#InpBx2",function(b){if(b.keyCode!=37&&b.keyCode!=38&&b.keyCode!=39&&b.keyCode!=40&&b.keyCode!=13){var a=jq(this).val();fnRgn.fnFilter(a,"2");}});jq(document).on("click",".sn ul li",function(){jq("#RgDD2").html("");jq("#DDMain2").hide();jq("#InpBx2").val("Enter Your City");jq(".sn ul li").removeClass();var f="";var a=0;var c={Maharashtra:true,NCR:true};var b=jq(this).text();var e=["Mumbai","Mumbai : Western","Mumbai : South Central","Navi Mumbai","Kalyan","Ulhasnagar","Delhi","Faridabad","Ghaziabad","Gurgaon","Noida","National Capital Region (NCR)"];jq.each(regionlst[b],function(g,h){if(a%10==0){f+="<ul>";}if(b=="Maharashtra"&&c.Maharashtra){f+='<li class="subreg" style="margin-top:-17px; margin-left:-10px;"><ul><li id="MUMBAI">Mumbai</li><li>Western</li><li>South Central</li><li>Navi Mumbai</li><li>Kalyan</li><li>Ulhasnagar</li></ul></li>';c.Maharashtra=false;a=a+4;}else{if(b=="NCR"&&c.NCR){f+='<li class="subreg" style="margin-top:-17px; margin-left:-10px;"><ul><li id="NCR">NCR</li><li>Delhi</li><li>Faridabad</li><li>Ghaziabad</li><li>Gurgoan</li><li>Noida</li></ul></li>';c.NCR=false;a=a+4;}else{if(jq.inArray(h.name,e)==-1){f+='<li id="'+h.code+'">'+h.name+"</li>";}}}if(a%10==9){f+="</ul>";}if(jq.inArray(h.name,e)==-1){a++;}});f+="</ul>";jq(".cn").html(f);jq(this).toggleClass("selected");});jq(document).on("click",".cn ul li",function(){fnGATracker({location:"AllCities",action:"CitySeltdList"});var e=jq(".sn >ul>li.selected").text();var c="";var i;if(e=="Maharashtra"&&jq(this).hasClass("subreg")){i="Mumbai";}else{if(e=="NCR"&&jq(this).hasClass("subreg")){i="National Capital Region (NCR)";}else{i=jq(this).text();}}jq("#RgDD2").html("");jq("#DDMain2").hide();jq(this).toggleClass("selected");var a;if(e=="Maharashtra"&&jq(this).hasClass("subreg")){a="Mumbai";}else{if(e=="NCR"&&jq(this).hasClass("subreg")){a="National Capital Region (NCR)";}else{a=jq(this).text();}}jq("#Reg").html(a);var f=new clsCookie({name:"Rgn"});f.set({key:"text",value:a,sess:false});jq.each(regionlst,function(k,j){jq.each(j,function(n,l){if(l.name==i){c=l.code;}});});var b=fnGRgn();fnSRgn(c);if(typeof(fnRedirectToRegionPage)!=="undefined"){fnRedirectToRegionPage();}var h=jq("#Reg").offset().top;var g=jq("#Reg").offset().left;jq("#RegBox").css({overflow:"hidden"});jq(window).scrollTop(0);fnCoverReg(false);clearTimeout(fnDoFloat.objTimer);jq("#RegBox").animate({top:h+5,left:g+65,width:0,height:0},{easing:"easeOutExpo",duration:1000,complete:function(){jq("#RegBox").hide(0,function(){jq("#InpBx1").val("Enter Your City");jq("#InpBx2").val("Enter Your City");jq("#states").hide();jq("#cities").show();jq("#NR1").hide();jq("#NR2").hide();if(b!=fnGRgn()){fnFavGet();if(global.RgnCallBack!=undefined&&global.RgnCallBack.length>0){for(var j=0;j<global.RgnCallBack.length;j++){global.RgnCallBack[j].apply();}}}});}});});jq(document).keydown(function(b){var a;if(jq("#states").is(":hidden")){a="1";}else{if(jq("#cities").is(":hidden")){a="2";}}switch(b.keyCode){case 38:navigate("up",a);break;case 40:navigate("down",a);break;case 13:navigate("enter",a);break;}});var size=0;var position=-1;var isEnter=false;function navigate(c,h){try{if(jq("#RgDD"+h+"").length!=0){if(jq("#NRF").length==0){switch(c){case"up":if(!jq("#RgDD"+h+"").is(":hidden")){if(position!=0){position--;jq("#RgDD"+h+" ul li a").css({background:"#fff","border-radius":"0px",color:"#343434"});jq("#RgDD"+h+" ul li a").eq(position).css({background:"#D81B22",color:"#ffffff"});}var k=parseInt(jq("#RgDD"+h+" ul li").eq(position).offset().top,10);var j=jq("#DDMain"+h+"").offset().top;if(j>k){var b=parseInt(jq("#RgDD"+h+" ul").css("margin-top"),10)+27;var i=jq("#DDMain"+h+">div").scrollTop();if(h=="1"){jq("#DDMain"+h+">div").scrollTop(i-26);}else{jq("#DDMain"+h+">div").scrollTop(i-18);}}}break;case"down":if(!jq("#RgDD"+h+"").is(":hidden")){if(position!=size-1){position++;jq("#RgDD"+h+" ul li a").css({background:"#fff","border-radius":"0px",color:"#343434"});jq("#RgDD"+h+" ul li a").eq(position).css({background:"#D81B22",color:"#ffffff"});}var k=parseInt(jq("#RgDD"+h+" ul li").eq(position).offset().top,10);var a=jq("#DDMain"+h+"").offset().top;var f=jq("#DDMain"+h+"").height();var j=a+f;if(k>j){var b=parseInt(jq("#RgDD"+h+" ul").css("margin-top"),10)-27;var i=jq("#DDMain"+h+">div").scrollTop();if(h=="1"){jq("#DDMain"+h+">div").scrollTop(i+26);}else{jq("#DDMain"+h+">div").scrollTop(i+18);}}}break;case"enter":if(position==-1){return;}if(jq("#RgDD"+h+"").is(":visible")){jq("#InpBx"+h+"").val(jq("#RgDD"+h+" ul li").eq(position).text());jq("#InpBx"+h+"").blur();jq("#DDMain"+h+"").hide();jq("#RgDD"+h+"").html("");position=-1;isEnter=true;fnRgn.fnHideRegBx("Done");}break;default:break;}}}}catch(g){fnErr({fnName:"navigate",fnParams:c+","+h,err:g});}}function fnFavGet(){try{var a=fnGRgn();fnAjax({data:"cmd=POPVENUES&rcode="+a,dataType:"script",success:function(j){var h=new clsCookie();var e=h.get({name:"ld",key:"FAV",defVal:""});if(e!=""){h.set({name:"userCine",value:e,key:"fav"});}var g=false;if(jq("#dHPFav").length!=0){g=true;}var k=[];for(var f=0;f<arrPopHome.length;f++){if(f<3){k.push('<a href="/cinemas/'+fnUrlName(arrPopHome[f][1])+"/"+arrPopHome[f][0]+'">'+arrPopHome[f][1]+"</a>");}}if(g&&e==""){jq("#dHPFav").html(k.join(", "));}var c="";for(var f=0;f<arrPop.length;f++){c+=arrPop[f][0]+";";}h.set({name:"userCine",value:c,key:"pop"});},url:"/getHTML.bms"});}catch(b){fnErr({fnName:"fnFavGet",err:b});}}jq(document).ready(function(){fnRgn.fnChkRgn(true);jq("body").bind("click",function(f){var a=f.target.id;if(jq("#InpBx1").is(":visible")&&jq("#InpBx1").val()!=""){return;}if(jq("#InpBx2").is(":visible")&&jq("#InpBx2").val()!=""){return;}if(a!=="InpBx1"&&a!=="InpBx2"){jq("#DDMain1").hide();jq("#DDMain2").hide();jq("#InpBx1").val("Enter Your City");jq("#InpBx2").val("Enter Your City");jq("#DwnArrBtn").hide();}});if(jq("#RegBox").length!=0){var c='<option value="">List of 1000 Screens</option>';for(var e in regionlst){if(regionlst.hasOwnProperty(e)){c+='<optgroup label="'+e+'">';for(var b=0;b<regionlst[e].length;b++){c+='<option style="padding-left: 10px;" value="'+regionlst[e][b].code+'">'+regionlst[e][b].name+"</option>";}c+="</optgroup>";}}jq("#cmbISRedir").html(c);}});function fnCoverReg(b){try{var a;if(jq("#dCover").length==0){a=jq("<div />").attr("id","dCover");a.css({background:"repeat scroll 0 0",backgroundImage:"url('/img/pay/t-bg.png')"});a.css({position:"absolute",zIndex:"2147483646"});a.css({top:"0px",left:"0px",width:"100%",height:jq(document).height()});jq("body").append(a);}else{a=jq("#dCover");a.css({width:"100%",height:jq(document).height()});}if(b){jq("#dCover").fadeIn("fast");clearTimeout(fnCoverReg.objTimer);fnCoverReg.objTimer=setTimeout("fnCoverReg(true);",250);}else{jq("#dCover").fadeOut(1500);clearTimeout(fnCoverReg.objTimer);}}catch(c){fnErr({fnName:"fnCoverReg",fnParams:arguments,err:c});}}(function(e){var f="";function c(g,h){g[h]=(g[h]!==undefined)?g[h]:g[h]="Not Available";return g[h];}String.isStopWord=function(i){var g;var h=new RegExp("\\b"+i+"\\b","i");if(f.search(h)<0){g=0;}else{g=1;}return g;};String.prototype.removeStopWords=function(){words=new Array();this.replace(/\b[\w]+\b/g,function(g){if(!String.isStopWord(g)){words[words.length]=jq.trim(g);}});return words.join(" ");};function a(g,h){if(g=="Event"){if(h=="MT"){h="Movies";}else{if(h=="PL"){h="Plays";}else{if(h=="EV"){h="Events";}else{if(h=="SP"){h="Sports";}else{if(h=="PT"){h="Parties";}else{h="Events";}}}}}}else{if(g=="Venue"){if(h=="|MT|"){h="Cinemas";}else{h="Venues";}}}return h;}var b=function(g){e.ajax({url:"/search/search",global:false,cache:true,dataType:"json",type:"GET",data:"s=5&i=1&search="+g,success:function(p,n){var s=p;var j=s.hits;var k=s.meta;var u={};var q="",h="",l="",r="",v="",t="";e("#instantResults").html('<strong style="margin:10px;">Loading Results...</strong>');if(!(e.isEmptyObject(j)&&n==="success")){if(typeof(j)!=="undefined"){if(j.length>0){for(var o in j){l=j[o].Group;r=j[o].Type;if(r.indexOf("|PL|")>-1||r.indexOf("|CT|")>-1){r="PLCT";}if(typeof u[l]==="undefined"){u[l]=[];}if(typeof u[l][r]==="undefined"){u[l][r]=[];}u[l][r].push(j[o]);}for(l in u){q+="<div class=\"sGp\" style='display:block' >";for(r in u[l]){h="";q+="<h3>"+a(l,r)+"</h3>";q+='<ul class="sTp">';for(v in u[l][r]){t=u[l][r][v];if(t.Group==="Event"){if(t.Type==="MT"){h="movies/"+fnUrlName(t.Title)+"/"+t.Code;}else{if(t.Type==="CT"){h="events/"+fnUrlName(t.Title)+"/"+t.Code;}else{if(t.Type==="PL"){h="plays/"+fnUrlName(t.Title)+"/"+t.Code;}else{if(t.Type==="SP"){h="sport/"+fnUrlName(t.Title)+"/"+t.Code;}else{if(t.Type==="PT"){h="party/"+fnUrlName(t.Title)+"/"+t.Code;}}}}}}else{if(t.Group==="Venue"){if(t.Type.indexOf("|MT|")>-1){h="cinemas/"+fnUrlName(t.Title)+"/"+t.Code;}else{if(t.Type.indexOf("|SP|")>-1){h="sport/?title="+fnUrlName(t.Title)+"&vid="+t.Code+"&vty=SP";}else{if(t.Type.indexOf("|CT|")>-1||t.Type.indexOf("|PL|")>-1){h="theaters/"+fnUrlName(t.Title)+"/"+t.CompanyCode;}else{h="theaters/"+fnUrlName(t.Title)+"/"+t.Code;}}}}}q+="<li><a href='http://"+location.host+"/"+h+"' data-code='"+u[l][r][v].Code+"' >"+u[l][r][v].Title+"</a></li>";}q+="</ul>";}q+="</div>";q+='<div class="clr"></div>';}(parseInt(k.results-j.length,10)>0)?q+="<a class='vmre' href='javascript:;' onclick='document.getElementById(\"instantSearch\").submit();'>"+parseInt(k.results-j.length,10)+" more results...</a>":q+="";e("#instantResults").html("");e("#instantResults").append(q);}}}else{e("#instantResults").html("");e("#instantResults").append("<ul><li>No Results</li></ul>");}},error:function(j,h,i){}});};e(document).ready(function(){if(e("#instantResults").length>0){e("body").delegate("#instantResults a","mouseover",function(i){e("#instantResults a.selected").removeClass("selected");e(this).addClass("selected");});e("body").delegate("#search","blur",function(i){if(e("#instantResults").is(":hover")){e(this).focus();}else{e("#instantResults").hide();}});e("#instantSearch").submit(function(){if(!e("#search").val().length>0){e("#search").focus();return false;}});if(jq.browser.msie){jq("#search").setAltText();}var h={};var g="";e("#search").on({keypress:function(j){var i=j.keyCode||j.which;if(i==13){if(typeof isSelected!=="undefined"){j.preventDefault();if(e(isSelected).hasClass("vmre")){return e("#instantSearch").submit();}else{if(isSelected.attr("href")){return window.location.href=isSelected.attr("href");}}}else{if(this.value.length>0){e("#instantSearch").submit();}else{return false;}}return false;}},keyup:function(l){var j=l.keyCode||l.which;var k=e("#instantResults a");var i="";if(j==9){return false;}if(j==27){isSelected=undefined;e("#instantResults").hide();return;}else{if(j==37){if(typeof(isSelected)!=="undefined"&&isSelected!=undefined){l.preventDefault();}else{return;}}else{if(j==39){if(typeof(isSelected)!=="undefined"&&isSelected!=undefined){l.preventDefault();}else{return;}}else{if(j==40&&e("#instantResults").is(":visible")){l.preventDefault();k.eq(h.eq).removeClass("selected");if(typeof(isSelected)!=="undefined"&&isSelected!=undefined){k.eq(h.eq).removeClass("selected");h.eq++;if(h.eq<k.length&&k.length!==0){isSelected=k.eq(h.eq).addClass("selected");}else{if(k.length!=0){h.eq=k.length-1;isSelected=k.eq(h.eq).addClass("selected");}else{isSelected=undefined;return;}}}else{h.eq=0;isSelected=k.eq(h.eq).addClass("selected");}return;}else{if(j==38){l.preventDefault();if(typeof(isSelected)!=="undefined"&&isSelected!=undefined){k.eq(h.eq).removeClass("selected");h.eq--;if(h.eq>=0){isSelected=k.eq(h.eq).addClass("selected");}else{isSelected=undefined;}}else{return false;}return false;}else{i=e.trim(e(this).val());if(i.length>0&&g!==i){b(i.removeStopWords());e("#instantResults").show(0);}else{e("#instantResults").slideUp(200).html("");}}}}}}}});}});})(jQuery);var headerDDTimer;var curr;jq(document).ready(function(){jq(".navigationli").on("mouseover",function(){curr=jq(this);if(typeof(AdArray)!=="undefined"){for(var a=0;a<AdArray.length;a++){if(AdArray[a]["id"]==curr.attr("id")&&jq("#"+AdArray[a]["idhover"]).html()==""){jq("#"+AdArray[a]["idhover"]).html(AdArray[a]["iframe"]);break;}}}if(jq(this).children("a").attr("title")!="Events & Theatre"){headerDDTimer=setTimeout("curr.children('div:eq(0)').show();",500);}else{headerDDTimer=setTimeout("fnShPl(true);",500);}});jq(".navigationli").on("mouseout",function(){if(jq(this).children("a").attr("title")!="Events & Theatre"){clearTimeout(headerDDTimer);jq(this).children("div:eq(0)").hide();}else{clearTimeout(headerDDTimer);fnShPl(false);}});jq(".featuredhead.shadowBox").bind({mouseenter:function(){jq(this).children(".featured_inrTxt").stop(true,true).fadeIn(300,"easeInSine");jq(this).children(".btm_past").css({background:"#000"});},mouseleave:function(){jq(this).children(".featured_inrTxt").stop(true,true).fadeOut(300,"easeInSine");jq(this).children(".btm_past").css({background:"#000","background-color":"rgba(0,0,0,0.8)"});}});if(global.RgnCallBack==undefined){global.RgnCallBack=[];}global.RgnCallBack.push(function(){fnGetNotification();});fnGetNotification();});function fnShPl(b){try{var a=fnGRgn();if(b){if(jq("#hdrPlEv_"+a.toUpperCase()).length!=0){jq("#hdrPlEv_"+a.toUpperCase()).show();}else{jq("#hdrPlEv_ALL").show();}jq("#plevDD").show();}else{if(jq("#hdrPlEv_"+a.toUpperCase()).length!=0){jq("#hdrPlEv_"+a.toUpperCase()).hide();}else{jq("#hdrPlEv_ALL").hide();}jq("#plevDD").hide();}}catch(c){fnErr({fnName:"fnShPl",fnParams:b,err:c});}}function fnOnHover(a){try{jq("#"+a).find("img").each(function(){if(jq(this).attr("data-original")!=""&&jq(this).attr("data-original")!=undefined){jq(this).attr("src",jq(this).attr("data-original"));jq(this).attr("data-original","");}});}catch(b){fnErr({fnName:"fnOnHover",fnParams:a,err:b});}}function fnRData(){try{var a=new clsCookie();strRandom=a.get({name:"ld"});if(strRandom!=""){var c=fnGVal({key:"MEMBEREMAIL",data:strRandom});var b=((fnGVal({key:"NAME",data:strRandom})!="")?fnGVal({key:"NAME",data:strRandom}):fnGVal({key:"FIRSTNAME",data:strRandom})+fnGVal({key:"LASTNAME",data:strRandom}));jq("#iREEmail").val(c);jq("#iREName").val(b);}var g="<ul>";g+='<li id="brwInfo">';g+="Browser Information: "+navigator.userAgent+" ";g+="</li>";if(navigator.oscpu!=undefined||navigator.oscpu!=""){g+="<li>";g+="Operating System: "+navigator.oscpu+" ";g+="</li>";}if(navigator.appVersion!=undefined||navigator.appVersion!=""){g+="<li>";g+="appVersion: "+navigator.appVersion+" ";g+="</li>";}if(navigator.platform!=undefined||navigator.platform!=""){g+="<li>";g+="platform: "+navigator.platform+" ";g+="</li>";}g+='<li id="pgUrl">';g+="Page URL: "+decodeURIComponent(location.href);g+="</li>";g+="<li>";g+="<b>Note: This information will be sent</b>";g+="</li>";g+="</ul> ";jq("#dAddData").removeClass("ic-ardn").addClass("ic-arrt");jq("#iREBInfo").html(g).hide();fnCover(true);jq("#butSubmit").show();jq("#repldng").hide();jq("#errDivRE").html("").hide();fnDoFloat("#report").fadeIn("fast");jq("#addInfo").bind("click",function(){jq("#iREBInfo").slideToggle(300);if(!jq("#iREBInfo").is(":visible")){jq("#addInfo").prev().removeClass("ic-arrt").addClass("ic-ardn");}else{jq("#addInfo").prev().removeClass("ic-ardn").addClass("ic-arrt");}});}catch(f){fnErr({fnName:"fnRData",err:f});}}function fnShwDErr(a){try{var b=jq(a).siblings().attr("id");if(!jq(a).next().is(":visible")){jq(a).next().slideDown(300);jq("#TEArr,#dAddData").removeClass("ic-arrt").addClass("ic-ardn");}else{jq(a).next().slideUp(300);jq("#TEArr,#dAddData").removeClass("ic-ardn").addClass("ic-arrt");}}catch(c){fnErr({fnName:"fnShwDErr",fnParams:a,err:c});}}function fnValReport(g){try{var c=jq("#iREEmail").val();var b=jq("#iREName").val();var a=jq("#iREComment").val().replace(/"/g,"");var i=jq("#brwInfo").text()+jq("#pgUrl").text();var f=i+"Technical Error:"+(jq.trim(jq("#SEData").text())==""?"":jq.trim(jq("#SEData").text()))+" Command: "+jq("#iRECmdInfo").text();if(jq.trim(c)==""){fnCMsgDis("errDivRE","Email Id cannot be blank","e");jq("#txtEmail").focus();return false;}if(jq.trim(b)==""){fnCMsgDis("errDivRE","Name cannot be blank","e");jq("#txtName").focus();return false;}if(jq.trim(a)==""){fnCMsgDis("errDivRE","Comment cannot be blank","e");jq("#txtComment").focus();return false;}if(!fnVal.chkName(b)){fnCMsgDis("errDivRE","Name is not valid","e");jq("#txtName").focus();return false;}if(!fnVal.email(c)){fnCMsgDis("errDivRE","Email Id is not valid","e");jq("#txtEmail").focus();return false;}jq("#butSubmit").hide();jq("#repldng").show();fnAjax({data:"cmd=REPORT&un="+escape(b)+"&ue="+escape(c)+"&uc="+escape(a)+"&ea="+escape(f)+"&ui="+g,dataType:"text",success:function(j){j=unescape(j).split("~");var e="";if(j[0]=="1"){e="";}if(j[0]=="0"){e="e";jq("#repldng").hide();jq("#butSubmit").show();fnCMsgDis("errDivRE",j[1],e);return false;}(function(){fnCMsgDis("errDivRE",j[1],e);setTimeout(function(){jq("#glErrDiv").slideUp("fast");jq("#report").fadeOut("fast");fnCover(false);},5500);})(jq);},url:"/insData.bms"});}catch(h){fnErr({fnName:"fnValReport",err:h});}}function fnGetNotification(){try{if(jq("#notfi").length<=0){return;}fnAjax({url:global.ajHTML,type:"GET",data:{cmd:"GETNOTIF",rgn:fnGRgn()},cache:false,dataType:"text",success:function(b){fnLoadNotification(b);},error:function(b,e,c){if(b.status==404){jq("#notfi").hide();}}});}catch(a){fnErr({fnName:"fnGetNotification",err:a});}}function fnLoadNotification(a){try{var f=jq.parseXML(a);var b=jq(f).find("item");var c="";if(b.length>=1){jq("#notifCnt").html(b.length);b.each(function(h,e){var j=fnGRgn()+"-"+jq(e).find("id").text();var k=b.length-(localStorage&&localStorage.seenNote&&localStorage.seenNote.match(new RegExp(fnGRgn(),"gi"))?localStorage.seenNote.match(new RegExp(fnGRgn(),"gi")).length:0);jq("#notifCntWrp").show();jq("#notifCnt").html(k);if(k<=0){jq("#notifCntWrp").hide();}c+='<div id="note_'+j+'" data-id="'+j+'" class="fl_100">';c+='<div class="erms"><span class="mnmsg">'+jq(e).find("subject").text()+"</span></div>";c+='<div class="eror">';c+=jq(e).find("message").text();if(jq(e).find("url").text()!=""){c+='&nbsp;<a href="'+jq(e).find("url").text()+'" target="'+jq(e).find("target").text()+'">'+(jq(e).find("text").text()!=""?jq(e).find("text").text():"Click Here")+"</a>";}c+="</div>";c+="</div>";});jq("#notifData").html(c).show();jq("#notfi").show();fnLoadNotification.scrollUp=true;fnLoadNotification.chngView=function(){jq("#notifData > *[id^='note_']").each(function(){var e=jq(this).height();var j=jq(this).position().top-e;if(!(jq("#notifData").is(":hidden")||(j+e<0||j>e))){if(localStorage!=undefined){var i=jq(this).attr("data-id");var h=localStorage.seenNote||"";if(h.search(i)==-1){h+=i+"|";localStorage.seenNote=h;}var k=b.length-(h.match(new RegExp(fnGRgn(),"gi")).length);jq("#notifCntWrp").show();jq("#notifCnt").html(k);if(k<=0){jq("#notifCntWrp").hide();}}}});};jq("#notfi .ex-mrk").unbind("mouseover");jq("#notfi .ex-mrk").bind("mouseover",function(){if(fnLoadNotification.scrollUp){jq("#notifData").scrollTop(0);fnLoadNotification.scrollUp=false;}});jq("#notfi").unbind("mouseover");jq("#notfi").bind("mouseover",fnLoadNotification.chngView);jq("#notifData").unbind("scroll");jq("#notifData").bind("scroll",fnLoadNotification.chngView);}else{jq("#notfi").hide();}}catch(g){fnErr({fnName:"fnLoadNotification",fnParams:a,err:g});}}