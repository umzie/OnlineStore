/*
 Copyright WizRocket Technologies Pvt. Ltd. (ver.20140528183531)
                _                    _        _
      __      _(_)_____ __ ___   ___| | _____| |_
      \ \ /\ / / |_  / '__/ _ \ / __| |/ / _ \ __|
       \ V  V /| |/ /| | | (_) | (__|   <  __/ |_
        \_/\_/ |_/___|_|  \___/ \___|_|\_\___|\__|
*/
$WZRK_WR=new function(){var g=location.protocol+"//wzrk.co/a?t=4",k=location.protocol+"//wzrk.co/t?a=1",t=location.protocol+"//wzrk.co/r?r=1",c=this,y=document,G=window.location.hostname,r=window.console,C={},N=0,H,O,D,K;c.G=function(){return 1===N};c.A=function(){r||(r={error:function(){},log:function(){}});if("undefined"==typeof wizrocket.account[0])r.error(m["embed-error"]);else if(D=wizrocket.account[0].id,"undefined"==typeof D||""==D)r.error(m["embed-error"]);else{K="WZRK_S_"+D;N=1;c.r();var a=
encodeURIComponent(location.href),b=!0;a==O&&(b=!1);c.j("WZRK_P",a,900,location.hostname);if(b){var a=c.l(),e="undefined"==typeof a.p?0:a.p;a.p=++e;c.o(a);a={};b=v(y.referrer);if(G!=b){""!=b&&(b=120<b.length?b.substring(0,120):b,a.referrer=b);var b=w(),d=b.utm_source||b.wzrk_source;"undefined"!=typeof d&&(d=120<d.length?d.substring(0,120):d,a.us=d);d=b.utm_medium||b.wzrk_medium;"undefined"!=typeof d&&(d=120<d.length?d.substring(0,120):d,a.um=d);d=b.utm_campaign||b.wzrk_campaign;"undefined"!=typeof d&&
(d=120<d.length?d.substring(0,120):d,a.uc=d);"undefined"!=typeof b.wzrk_medium&&(b=b.wzrk_medium,b.match(/^email$|^social$|^search$/)&&(a.wm=b))}a=c.e(a);b=g;b=c.a(b,"type","page");b=c.a(b,"d",c.f(JSON.stringify(a)));c.i(b);var f=function(){var a=g,b={},b=c.e(b),a=c.a(a,"type","ping"),a=c.a(a,"d",c.f(JSON.stringify(b)));c.i(a)};setTimeout(function(){3>=e&&f();c.D()&&setInterval(function(){f()},3E5)},12E4)}setInterval(function(){if("undefined"!=typeof wizrocket){if(0<wizrocket.event.length){var a=
wizrocket.event.slice(0);for(wizrocket.event=[];0<a.length;){var b=a.shift();if(!x(b)){r.error(m["event-error"]);return}32<b.length&&(b=b.substring(0,32),c.b(510,b+"... length exceeded 32 chars. Trimmed."));if("Stayed"==b||"UTM Visited"==b||"App Launched"==b||"Notification Sent"==b||"Notification Viewed"==b||"Notification Clicked"==b)c.b(513,b+" is a restricted system event. It cannot be used as an event name. Not sent.");else{var e={type:"event"};e.evtName=b.replace(A,"");if(0!=a.length){var d=a.shift();
if(B(d)){if("Charged"==b){if(!c.B(d)){c.b(511,"Charged event structure invalid. Not sent.");continue}}else if(!c.n(d)){c.b(512,b+" event structure invalid. Not sent.");continue}e.evtData=d}else a.unshift(d)}e=c.e(e);e=c.f(JSON.stringify(e));b=g;b=c.a(b,"type","push");b=c.a(b,"d",e);c.i(b)}}}if(0<wizrocket.profile.length){var a=wizrocket.profile.pop(),e={},f;if("undefined"!=typeof a.Site){if(f=a.Site,E(f)||!c.F(f))return}else"undefined"!=typeof a.Facebook&&(a=a.Facebook,E(a)||a.error||(f=c.H(a)));
"undefined"==typeof f||E(f)||(e.type="profile",e.profile=f,e=c.e(e),e=c.f(JSON.stringify(e)),b=g,b=c.a(b,"type","push"),b=c.a(b,"d",e),c.i(b))}}},150)}};c.q=function(){if(document.getElementById("wzrk-msg")){var a={},a=c.e(a);a.spots=[0];var a=c.f(JSON.stringify(a)),b=k,b=c.a(b,"d",a);c.i(b)}};c.H=function(a){var b={};b.Name=a.name;b.FBID=a.id;"male"==a.gender?b.Gender="M":"female"==a.gender&&(b.Gender="F");var e;a:{e=a.education;if("undefined"!=typeof e){for(var c="",f="",g=0;g<e.length;g++){var s=
e[g];if("undefined"!=typeof s.type){s=s.type;if("Graduate School"==s){e="Graduate";break a}"College"==s?c="1":"High School"==s&&(f="1")}}if("1"==c){e="College";break a}if("1"==f){e="School";break a}}e=void 0}"undefined"!=typeof e&&(b.Education=e);0<("undefined"!=typeof a.work?a.work.length:0)&&(b.Employed="Y");"undefined"!=typeof a.email&&(b.Email=a.email);"undefined"!=typeof a.birthday&&(a=a.birthday.split("/"),a=$WZRK_WR.setDate(a[2]+a[0]+a[1]),b.DOB=a);return b};c.b=function(a,b){C.c=a;C.d=b;r.error(F+
a+": "+b)};c.C=function(){return"undefined"!=typeof wzrk_d&&wzrk_d.dbg==G};c.D=function(){return"undefined"!=typeof wzrk_d&&"continuous"==wzrk_d.ping};c.f=function(a){c.C()&&r.log("dobj:"+a);var b=a;if(null==b)a="";else{a="";var e,d,f,g,s,k,q=0;if(null==b)b="";else{g={};e={};var p=k=s="",z=2,t=3,u=2,n="",h=0,l=0,y;for(y=0;y<b.length;y+=1)if(s=b.charAt(y),Object.prototype.hasOwnProperty.call(g,s)||(g[s]=t++,e[s]=!0),k=p+s,Object.prototype.hasOwnProperty.call(g,k))p=k;else{if(Object.prototype.hasOwnProperty.call(e,
p)){if(256>p.charCodeAt(0)){for(d=0;d<u;d++)h<<=1,15==l?(l=0,n+=I(h),h=0):l++;f=p.charCodeAt(0);for(d=0;8>d;d++)h=h<<1|f&1,15==l?(l=0,n+=I(h),h=0):l++,f>>=1}else{f=1;for(d=0;d<u;d++)h=h<<1|f,15==l?(l=0,n+=I(h),h=0):l++,f=0;f=p.charCodeAt(0);for(d=0;16>d;d++)h=h<<1|f&1,15==l?(l=0,n+=I(h),h=0):l++,f>>=1}z--;0==z&&(z=Math.pow(2,u),u++);delete e[p]}else for(f=g[p],d=0;d<u;d++)h=h<<1|f&1,15==l?(l=0,n+=I(h),h=0):l++,f>>=1;z--;0==z&&(z=Math.pow(2,u),u++);g[k]=t++;p=String(s)}if(""!==p){if(Object.prototype.hasOwnProperty.call(e,
p)){if(256>p.charCodeAt(0)){for(d=0;d<u;d++)h<<=1,15==l?(l=0,n+=I(h),h=0):l++;f=p.charCodeAt(0);for(d=0;8>d;d++)h=h<<1|f&1,15==l?(l=0,n+=I(h),h=0):l++,f>>=1}else{f=1;for(d=0;d<u;d++)h=h<<1|f,15==l?(l=0,n+=I(h),h=0):l++,f=0;f=p.charCodeAt(0);for(d=0;16>d;d++)h=h<<1|f&1,15==l?(l=0,n+=I(h),h=0):l++,f>>=1}z--;0==z&&(z=Math.pow(2,u),u++);delete e[p]}else for(f=g[p],d=0;d<u;d++)h=h<<1|f&1,15==l?(l=0,n+=I(h),h=0):l++,f>>=1;z--;0==z&&u++}f=2;for(d=0;d<u;d++)h=h<<1|f&1,15==l?(l=0,n+=I(h),h=0):l++,f>>=1;for(;;)if(h<<=
1,15==l){n+=I(h);break}else l++;b=n}for(;q<2*b.length;)0==q%2?(e=b.charCodeAt(q/2)>>8,d=b.charCodeAt(q/2)&255,f=q/2+1<b.length?b.charCodeAt(q/2+1)>>8:NaN):(e=b.charCodeAt((q-1)/2)&255,(q+1)/2<b.length?(d=b.charCodeAt((q+1)/2)>>8,f=b.charCodeAt((q+1)/2)&255):d=f=NaN),q+=3,g=e>>2,e=(e&3)<<4|d>>4,s=(d&15)<<2|f>>6,k=f&63,isNaN(d)?s=k=64:isNaN(f)&&(k=64),a=a+J.charAt(g)+J.charAt(e)+J.charAt(s)+J.charAt(k)}return a};c.e=function(a){a=L(a);E(C)||(a.wzrk_error=C,C={});a.id=D;null!=H&&(a.g=H);var b=c.l();
a.s=b.s;a.pg="undefined"==typeof b.p?1:b.p;return a};c.l=function(){var a=c.h(K),b={};null!=a&&(b=JSON.parse(a),B(b)?"undefined"!=typeof b.t&&1260<Math.round((new Date).getTime()/1E3)-b.t&&(b={}):b={});return b};c.o=function(a){a=JSON.stringify(a);c.m(K,a,1200,G)};c.r=function(){H=c.h("WZRK_G");O=c.h("WZRK_P")};c.I=function(a,b){if("WZRK_G"==a)H=b,c.m(a,b,31536E4,G);else if("WZRK_S"==a){var e=c.l();e.s=b;e.t=Math.round((new Date).getTime()/1E3);c.o(e)}};c.m=function(a,b,e,d){if(d){d=d.split(".");
for(var f="",g=d.length-1;0<=g;g--){f="."+d[g]+f;if(c.h(a)){var k="test_"+a+Math.floor(100*Math.random()+1);c.k(k,f);c.j(k,b,10,f);if(c.h(k))c.k(k,f),c.k(a,f);else continue}c.k(a,f);c.j(a,b,e,f);if(c.h(a)==b)break}}else c.j(a,b,e,d)};c.j=function(a,b,e,c){var f="",g="";e&&(f=new Date,f.setTime(f.getTime()+1E3*e),f="; expires="+f.toGMTString());c&&(g="; domain="+c);document.cookie=a+"="+b+f+g+"; path=/"};c.h=function(a){a+="=";for(var b=document.cookie.split(";"),e=0;e<b.length;e++){for(var c=b[e];" "==
c.charAt(0);)c=c.substring(1,c.length);if(0==c.indexOf(a))return c.substring(a.length,c.length)}return null};c.k=function(a,b){var c=a+"=; expires=Thu, 01 Jan 1970 00:00:01 GMT;";b&&(c=c+" domain="+b+"; path=/");document.cookie=c};c.a=function(a,b,c){return a+"&"+b+"="+encodeURIComponent(c)};c.i=function(a){a=c.a(a,"r",(new Date).getTime());var b=y.createElement("script");b.setAttribute("type","text/javascript");b.setAttribute("src",a);b.async=!0;y.getElementsByTagName("head")[0].appendChild(b)};
c.J=function(a){if(null!=a){var b=document.getElementById("wzrk-msg");b.style.backgroundColor="gold";b.style.cursor="pointer";var e=document.createElement("div"),d=b.getAttribute("data-wzrk-style");d&&e.setAttribute("style",d);(d=b.getAttribute("data-wzrk-class"))&&e.setAttribute("class",d);e.setAttribute("id","wzrk-msg-container");b.appendChild(e);var f=!0;b.onclick=function(){e.style.display=f?"none":"block";f=!f};b=document.getElementById("wizrocket-message-frame");null==b&&(b=document.createElement("iframe"),
b.frameBorder=0,b.width="100%",b.height="10px",b.id="wizrocket-message-frame",b.setAttribute("src",""),e.appendChild(b));for(var d="",g=a.targets.length,k=0,t=0;t<g;t++){var q=c.v(),p=a.targets[t];0==p.typeId&&(k=p.targetId,q=q.replace("[ICON]",p.icon),q=q.replace("[TITLE]",p.title),q=q.replace("[TEXT]",p.text),q=q.replace("[RECORDER_HREF]",c.w(p.link,k)),d+=q,k=p.themeId)}g=c.u();g=g.replace("[STYLE]",function(a,b){for(var c=a.length,e=0;e<c;e++){var d=a[e];if(d.themeId==b)return d.theme}}(a.themes,
k));d="<html>"+g+d;d+="</html>";g=(b.contentWindow?b.contentWindow:b.contentDocument.document?b.contentDocument.document:b.contentDocument).document;g.open();g.write(d);g.close();e.style.display="block";d=b.contentWindow.document.body.scrollHeight;b.height=d+10+"px";e.style.height=d+5+"px";r.log("targeting response received...");r.log(JSON.stringify(a))}};c.w=function(a,b){var e={};e.sendTo=a;e.targetId=b;e.epoch=Math.round((new Date).getTime()/1E3);e.type="ctr";e=c.e(e);return c.a(t,"d",c.f(JSON.stringify(e)))};
c.v=function(){var a;a='<div class="notice-message">  <a href="[RECORDER_HREF]" class="box">';a+='    <div class="avatar"><span class="fa [ICON] fa-4x fa-fw"></span></div>';a+='    <div class="info">';a+='      <div class="title">[TITLE]</div>';a+='      <div class="clearfix"></div>';a+='      <div class="text">[TEXT]</div>';a+="    </div>";a+='    <div class="clearfix"></div>';a+="  </a>";a+="</div>";return a+='<div class="clearfix"></div>'};c.u=function(){var a;a='<head><base target="_parent" /><link rel="stylesheet" href="http://static.wizrocket.com/fa/font-awesome.css">';
a+='<meta name="viewport" content="width=device-width, initial-scale=1.0">';a+="<style>";a+="[STYLE]";a+="</style>";return a+="</head>"};c.B=function(a){if(B(a)){for(var b in a)if("Items"==b){if(!M(a[b]))return!1;16<a[b].length&&c.b(522,"Charged Items exceed 16 limit. Actual count: "+a[b].length+". Additional items will be dropped.");for(var e in a[b])if(!B(a[b][e])||!c.n(a[b][e]))return!1}else{if(B(a[b])||M(a[b]))return!1;P(a[b])&&(a[b]=+a[b])}return!0}return!1};c.n=function(a){if(B(a)){for(var b in a){if(B(a[b])||
M(a[b]))return!1;P(a[b])&&(a[b]=+a[b])}return!0}return!1};c.F=function(a){var b=!0;if(B(a)){var c=a.Gender;"undefined"==typeof c||c.match(/^M$|^F$/)||(b=!1,r.error(m["gender-error"]));c=a.Employed;"undefined"==typeof c||c.match(/^Y$|^N$/)||(b=!1,r.error(m["employed-error"]));c=a.Married;"undefined"==typeof c||c.match(/^Y$|^N$/)||(b=!1,r.error(m["married-error"]));c=a.Education;"undefined"==typeof c||c.match(/^School$|^College$|^Graduate$/)||(b=!1,r.error(m["education-error"]));c=a.Age;"undefined"!=
typeof c&&(P(c)?a.Age=+c:(b=!1,r.error(m["age-error"])));c=a.DOB;"undefined"==typeof c||/^\$D_/.test(c)&&11==(c+"").length||(b=!1,r.error(m["dob-error"]));c=a.Phone;"undefined"==typeof c||E(c)?(/^-?[\d.]+(?:e-?\d+)?$/.test(c)&&"number"==typeof c&&(b=!1,r.error(m["phone-format-error"])),delete a.Phone):8<c.length&&"+"==c.charAt(0)?(c=c.substring(1,c.length),P(c)?a.Phone=+c:(delete a.Phone,r.error(m["phone-format-error"]+". Removed."))):(delete a.Phone,r.error(m["phone-format-error"]+". Removed."))}else b=
!1,r.error(m["obj-arr-error"]);return b};c.setDate=function(a){var b;var c=/^(\d{4})(\d{2})(\d{2})$/.exec(a);if(null==c)b=!1;else{b=c[3];var d=c[2]-1,c=c[1],f=new Date(c,d,b);b=f.getDate()==b&&f.getMonth()==d&&f.getFullYear()==c}b?a="$D_"+a:(wc.error(m["date-format-error"]),a=void 0);return a};c.s=c.I;c.is_onloadcalled=c.G;c.setDate=c.setDate;c.fTR=c.q;c.tr=c.J};for(var I=String.fromCharCode,J,Q="",R=0,R=0;25>=R;R++)Q+=String.fromCharCode(R+65);for(R=0;25>=R;R++)Q+=String.fromCharCode(R+97);
for(R=0;10>R;R++)Q+=R;J=Q+"+/=";function M(g){return"object"===typeof g&&g instanceof Array}function B(g){return"[object Object]"==Object.prototype.toString.call(g)}function E(g){for(var k in g)if(g.hasOwnProperty(k))return!1;return!0}function x(g){return"string"==typeof g||g instanceof String}function P(g){return!isNaN(parseFloat(g))&&isFinite(g)}
function w(){var g=location.href.toLowerCase(),k={},t=g.indexOf("?");if(1<t)for(var c=/\+/g,y=/([^&=]+)=?([^&]*)/g,t=g.substring(t+1);g=y.exec(t);)k[decodeURIComponent(g[1].replace(c," "))]=decodeURIComponent(g[2].replace(c," "));return k}function v(g){if(""==g)return"";var k=document.createElement("a");k.href=g;return k.hostname}
function L(g){if("object"==typeof g)for(var k in g){var t=L(g[k]),c=x(k)?k.replace(A,""):k;x(k)?(c=k.replace(A,""),32<c.length&&(c=c.substring(0,32),$WZRK_WR.b(520,c+"... length exceeded 32 chars. Trimmed."))):c=k;delete g[k];g[c]=t}else x(g)&&(g=g.replace(S,""),120<g.length&&(g=g.substring(0,120),$WZRK_WR.b(521,g+"... length exceeded 120 chars. Trimmed.")));return g}var A=RegExp("^\\s+|\\.|:|\\$|'|\"|\\\\|\\s+$","g"),S=RegExp("^\\s+|'|\"|\\\\|\\s+$","g"),m={},F="wizrocket error: ";
m["embed-error"]=F+"Incorrect embed script.";m["event-error"]=F+"Event structure not valid. Data not sent.";m["gender-error"]=F+"Gender value should be either M or F. Data not sent.";m["employed-error"]=F+"Employed value should be either Y or N. Data not sent.";m["married-error"]=F+"Married value should be either Y or N. Data not sent.";m["education-error"]=F+"Education value should be either School, College or Graduate. Data not sent.";m["age-error"]=F+"Age value should be a number. Data not sent.";
m["dob-error"]=F+"DOB value should be set using $WZRK_WR.setDate(number). number should represent as yyymmdd";m["obj-arr-error"]=F+"Expecting Object array in profile";m["date-format-error"]=F+"setDate(number). number should be formatted as yyymmdd";m["phone-format-error"]=F+"Phone number should be formatted as +[country code][number]";$WZRK_WR.A();
